spring:
  datasource:
    url: "jdbc:h2:mem:pymes;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH"
    driver-class-name: org.h2.Driver
    username: sa
    password: ""
    hikari:
      jdbc-url: "jdbc:h2:mem:pymes;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH"
  jpa:
    generate-ddl: true
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
  flyway:
    enabled: false
    locations: classpath:db/migration,classpath:db/migration/dev
  h2:
    console:
      enabled: true
      path: /h2-console
  mail:
    host: localhost
    port: 1025

billing:
  crypto:
    secret: ${BILLING_CRYPTO_SECRET:MDEyMzQ1Njc4OUFCQ0RFRjAxMjM0NTY3ODlBQkNERUY=}
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8082/realms/pymerp
  webhook:
    secret: ${BILLING_WEBHOOK_SECRET:dev-webhook-secret}
    tolerance: PT5M
  offline:
    enabled: true
    legend: "Emitido en contingencia; sujeto a validaci√≥n"
    retry:
      maxAttempts: 5
      backoffMs: 15000
  pdf:
    documents-base-url: ${BILLING_DOCUMENTS_BASE_URL:http://localhost:8080/api/v1}
    branding:
      primary-color: "#1f2937"
      accent-color: "#2563eb"
      text-color: "#111827"
      table-header-color: "#e5e7eb"

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: never
  health:
    redis:
      enabled: false
app:
  security:
    secrets-validation:
      enabled: false  # Disabled for dev to allow default secrets
    captcha:
      enabled: true
      min-operand: 2
      max-operand: 10

storage:
  s3:
    bucket: ${STORAGE_S3_BUCKET:dev-change-me-bucket}
    access-key: ${STORAGE_S3_ACCESS_KEY:DEVACCESSKEY}
    secret-key: ${STORAGE_S3_SECRET_KEY:DEVSECRETKEY}
    region: ${STORAGE_S3_REGION:us-east-1}

webhooks:
  hmac:
    secret: ${WEBHOOKS_HMAC_SECRET:DEV_CHANGE_ME_HMAC_SECRET}
