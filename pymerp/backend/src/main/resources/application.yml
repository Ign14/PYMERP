server:
  port: 8080

spring:
  datasource:
    url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:55432}/${POSTGRES_DB:pymes}
    username: ${POSTGRES_USER:pymes}
    password: ${POSTGRES_PASSWORD:pymes}
  jpa:
    hibernate:
      ddl-auto: validate
    open-in-view: false
    properties:
      hibernate:
        jdbc.time_zone: UTC
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
  flyway:
    enabled: true
    baseline-on-migrate: true
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
  mail:
    host: ${MAIL_HOST:localhost}
    port: ${MAIL_PORT:1025}
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: ${MAIL_SMTP_AUTH:false}
          starttls.enable: ${MAIL_SMTP_STARTTLS_ENABLE:false}
    default-encoding: UTF-8

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always

app:
  tenancy:
    default-company-id: 00000000-0000-0000-0000-000000000001
  cors:
    allowed-origins:
      - http://localhost:5173
      - http://localhost:5174
    allowed-origin-patterns:
      - http://localhost:*
      - http://127.0.0.1:*
      - http://0.0.0.0:*
  security:
    jwt:
      secret: change-this-dev-secret-at-least-32-chars-long
      expiration-seconds: 86400
      refresh-expiration-seconds: 2592000
    captcha:
      enabled: true
      min-operand: 2
      max-operand: 10
