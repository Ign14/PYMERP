import{Q as d,a as l}from"./useQuery-DOGxExcK.js";import{aj as P,ak as m,al as b}from"./index-DBJ25f9Z.js";var v=class extends d{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:P()})}getOptimisticResult(e){return e.behavior=P(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:s}=e,r=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:c,isRefetchError:g}=r,o=s.fetchMeta?.fetchMore?.direction,n=c&&o==="forward",h=a&&o==="forward",u=c&&o==="backward",f=a&&o==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:b(t,s.data),hasPreviousPage:m(t,s.data),isFetchNextPageError:n,isFetchingNextPage:h,isFetchPreviousPageError:u,isFetchingPreviousPage:f,isRefetchError:g&&!n&&!u,isRefetching:i&&!h&&!f}}};function y(e,t){return l(e,v)}function R(e){const t=new Set,s=[];for(const r of e){const a=r.content??[];for(const i of a)t.has(i.id)||(t.add(i.id),s.push(i))}return s}function w(e){const t=e.page,s=typeof e.number=="number"?e.number:typeof t=="number"?t:0,r=typeof e.totalPages=="number"?e.totalPages:0;return(typeof e.hasNext=="boolean"?e.hasNext:r>0?s+1<r:!1)?s+1:void 0}export{w as c,R as m,y as u};
