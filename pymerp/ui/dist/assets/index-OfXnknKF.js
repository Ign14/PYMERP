const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardPage-DTk8bhVE.js","assets/react-DFcFNn96.js","assets/useQuery-7A7SEbdC.js","assets/PageHeader-DR0dkBli.js","assets/charts-BeDQCoM6.js","assets/SalesPage-B_WQp_J0.js","assets/Modal-BCEKQ7aJ.js","assets/customersUtils-Co8rj5Pn.js","assets/useDebouncedValue-DwVyRO6o.js","assets/problemDetail-B33ux2x6.js","assets/table-BQREnrjO.js","assets/PurchasesPage-CAt4eVrP.js","assets/InventoryPage-DafS9WXF.js","assets/CustomersPage-BK4hp0PX.js","assets/SuppliersPage-Bhm7VUd8.js","assets/FinancesPage-AmNFxRs0.js","assets/ReportsPage-CxtcYEjp.js","assets/SettingsPage-BnyvsiII.js"])))=>i.map(i=>d[i]);
import{a as us,b as ls,g as ds,r as w,u as fn,N as fs,O as hn,d as pn,e as hs,f as te,h as je,R as ps,B as ms}from"./react-DFcFNn96.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var st={exports:{}},Se={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt;function ys(){if(Dt)return Se;Dt=1;var e=us(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var l,h={},b=null,A=null;u!==void 0&&(b=""+u),c.key!==void 0&&(b=""+c.key),c.ref!==void 0&&(A=c.ref);for(l in c)s.call(c,l)&&!o.hasOwnProperty(l)&&(h[l]=c[l]);if(a&&a.defaultProps)for(l in c=a.defaultProps,c)h[l]===void 0&&(h[l]=c[l]);return{$$typeof:t,type:a,key:b,ref:A,props:h,_owner:r.current}}return Se.Fragment=n,Se.jsx=i,Se.jsxs=i,Se}var kt;function gs(){return kt||(kt=1,st.exports=ys()),st.exports}var f=gs(),Le={},It;function bs(){if(It)return Le;It=1;var e=ls();return Le.createRoot=e.createRoot,Le.hydrateRoot=e.hydrateRoot,Le}var vs=bs();const ws=ds(vs);var xe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ss={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ps=class{#e=Ss;#n=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ut=new Ps;function As(e){setTimeout(e,0)}var Ve=typeof window>"u"||"Deno"in globalThis;function K(){}function Es(e,t){return typeof e=="function"?e(t):e}function Cs(e){return typeof e=="number"&&e>=0&&e!==1/0}function xs(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lt(e,t){return typeof e=="function"?e(t):e}function Os(e,t){return typeof e=="function"?e(t):e}function Ft(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:o,queryKey:i,stale:a}=e;if(i){if(s){if(t.queryHash!==At(i,t.options))return!1}else if(!Ee(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||r&&r!==t.state.fetchStatus||o&&!o(t))}function jt(e,t){const{exact:n,status:s,predicate:r,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(ie(t.options.mutationKey)!==ie(o))return!1}else if(!Ee(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function At(e,t){return(t?.queryKeyHashFn||ie)(e)}function ie(e){return JSON.stringify(e,(t,n)=>dt(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Ee(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ee(e[n],t[n])):!1}var Ts=Object.prototype.hasOwnProperty;function mn(e,t){if(e===t)return e;const n=Lt(e)&&Lt(t);if(!n&&!(dt(e)&&dt(t)))return t;const r=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),i=o.length,a=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const l=n?u:o[u],h=e[l],b=t[l];if(h===b){a[l]=h,(n?u<r:Ts.call(e,l))&&c++;continue}if(h===null||b===null||typeof h!="object"||typeof b!="object"){a[l]=b;continue}const A=mn(h,b);a[l]=A,A===h&&c++}return r===i&&c===r?e:a}function Rs(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Lt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dt(e){if(!qt(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!qt(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ns(e){return new Promise(t=>{ut.setTimeout(t,e)})}function Ds(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mn(e,t):t}function ea(e){return e}function ks(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Is(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var Et=Symbol();function yn(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Et?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Fs(e,t){return typeof e=="function"?e(...t):!!e}var js=class extends xe{#e;#n;#t;constructor(){super(),this.#t=e=>{if(!Ve&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#t=e,this.#n?.(),this.#n=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},gn=new js;function Ls(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}var qs=As;function Ms(){let e=[],t=0,n=a=>{a()},s=a=>{a()},r=qs;const o=a=>{t?e.push(a):r(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&r(()=>{s(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var j=Ms(),_s=class extends xe{#e=!0;#n;#t;constructor(){super(),this.#t=e=>{if(!Ve&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(e){this.#t=e,this.#n?.(),this.#n=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},$e=new _s;function Us(e){return Math.min(1e3*2**e,3e4)}function bn(e){return(e??"online")==="online"?$e.isOnline():!0}var ft=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function vn(e){let t=!1,n=0,s;const r=Ls(),o=()=>r.status!=="pending",i=g=>{if(!o()){const y=new ft(g);b(y),e.onCancel?.(y)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>gn.isFocused()&&(e.networkMode==="always"||$e.isOnline())&&e.canRun(),l=()=>bn(e.networkMode)&&e.canRun(),h=g=>{o()||(s?.(),r.resolve(g))},b=g=>{o()||(s?.(),r.reject(g))},A=()=>new Promise(g=>{s=y=>{(o()||u())&&g(y)},e.onPause?.()}).then(()=>{s=void 0,o()||e.onContinue?.()}),p=()=>{if(o())return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{if(o())return;const C=e.retry??(Ve?0:3),O=e.retryDelay??Us,I=typeof O=="function"?O(n,x):O,D=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,x);if(t||!D){b(x);return}n++,e.onFail?.(n,x),Ns(I).then(()=>u()?void 0:A()).then(()=>{t?b(x):p()})})};return{promise:r,status:()=>r.status,cancel:i,continue:()=>(s?.(),r),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?p():A().then(p),r)}}var wn=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cs(this.gcTime)&&(this.#e=ut.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ve?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ut.clearTimeout(this.#e),this.#e=void 0)}},Bs=class extends wn{#e;#n;#t;#r;#s;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#t=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Mt(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Mt(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(e,t){const n=Ds(this.state.data,e,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(K).catch(K):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Os(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Et||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>lt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xs(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,s=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},r=()=>{const a=yn(this.options,t),u=(()=>{const l={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(l),l})();return this.#a=!1,this.options.persister?this.options.persister(a,u,this):a(u)},i=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return s(a),a})();this.options.behavior?.onFetch(i,this),this.#n=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#o({type:"fetch",meta:i.fetchOptions?.meta}),this.#s=vn({initialPromise:t?.initialPromise,fn:i.fetchFn,onCancel:a=>{a instanceof ft&&a.revert&&this.setState({...this.#n,fetchStatus:"idle"}),n.abort()},onFail:(a,c)=>{this.#o({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0});try{const a=await this.#s.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#t.config.onSuccess?.(a,this),this.#t.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof ft){if(a.silent)return this.#s.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#o({type:"error",error:a}),this.#t.config.onError?.(a,this),this.#t.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#o(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$s(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#n=e.manual?s:void 0,s;case"error":const r=e.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),j.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:e})})}};function $s(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bn(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mt(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function _t(e){return{onFetch:(t,n)=>{const s=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let l=!1;const h=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},b=yn(t.options,t.fetchOptions),A=async(p,g,y)=>{if(l)return Promise.reject();if(g==null&&p.pages.length)return Promise.resolve(p);const C=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:g,direction:y?"backward":"forward",meta:t.options.meta};return h($),$})(),O=await b(C),{maxPages:I}=t.options,D=y?Is:ks;return{pages:D(p.pages,O,I),pageParams:D(p.pageParams,g,I)}};if(r&&o.length){const p=r==="backward",g=p?Sn:ht,y={pages:o,pageParams:i},x=g(s,y);a=await A(y,x,p)}else{const p=e??o.length;do{const g=c===0?i[0]??s.initialPageParam:ht(s,a);if(c>0&&g==null)break;a=await A(a,g),c++}while(c<p)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function ht(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Sn(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function ta(e,t){return t?ht(e,t)!=null:!1}function na(e,t){return!t||!e.getPreviousPageParam?!1:Sn(e,t)!=null}var zs=class extends wn{#e;#n;#t;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#n=[],this.state=e.state||Pn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#n.includes(e)||(this.#n.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#n=this.#n.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#n.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=vn({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,i)=>{this.#s({type:"failed",failureCount:o,error:i})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",r=!this.#r.canStart();try{if(s)t();else{this.#s({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this,n);const i=await this.options.onMutate?.(e,n);i!==this.state.context&&this.#s({type:"pending",context:i,variables:e,isPaused:r})}const o=await this.#r.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#s({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#s({type:"error",error:o})}}finally{this.#t.runNext(this)}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),j.batch(()=>{this.#n.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Pn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ks=class extends xe{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#n=new Map,this.#t=0}#e;#n;#t;build(e,t,n){const s=new zs({client:e,mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#e.add(e);const t=qe(e);if(typeof t=="string"){const n=this.#n.get(t);n?n.push(e):this.#n.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=qe(e);if(typeof t=="string"){const n=this.#n.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#n.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=qe(e);if(typeof t=="string"){const s=this.#n.get(t)?.find(r=>r.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=qe(e);return typeof t=="string"?this.#n.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){j.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#n.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>jt(t,n))}findAll(e={}){return this.getAll().filter(t=>jt(e,t))}notify(e){j.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return j.batch(()=>Promise.all(e.map(t=>t.continue().catch(K))))}};function qe(e){return e.options.scope?.id}var Hs=class extends xe{#e;#n=void 0;#t;#r;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Rs(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),n?.mutationKey&&this.options.mutationKey&&ie(n.mutationKey)!==ie(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#n}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#s(),this.#i()}mutate(t,n){return this.#r=n,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(t)}#s(){const t=this.#t?.state??Pn();this.#n={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){j.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#n.variables,s=this.#n.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#r.onSuccess?.(t.data,n,s,r),this.#r.onSettled?.(t.data,null,n,s,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,s,r),this.#r.onSettled?.(void 0,t.error,n,s,r))}this.listeners.forEach(n=>{n(this.#n)})})}},Qs=class extends xe{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const s=t.queryKey,r=t.queryHash??At(s,t);let o=this.get(r);return o||(o=new Bs({client:e,queryKey:s,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){j.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ft(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Ft(e,n)):t}notify(e){j.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){j.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){j.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vs=class{#e;#n;#t;#r;#s;#i;#a;#o;constructor(e={}){this.#e=e.queryCache||new Qs,this.#n=e.mutationCache||new Ks,this.#t=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=gn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=$e.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#n.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(lt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(s.queryHash)?.state.data,i=Es(t,o);if(i!==void 0)return this.#e.build(this,s).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return j.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;j.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return j.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=j.batch(()=>this.#e.findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(K).catch(K)}invalidateQueries(e,t={}){return j.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=j.batch(()=>this.#e.findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let o=r.fetch(void 0,n);return n.throwOnError||(o=o.catch(K)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(K)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(lt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(K).catch(K)}fetchInfiniteQuery(e){return e.behavior=_t(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(K).catch(K)}ensureInfiniteQueryData(e){return e.behavior=_t(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $e.isOnline()?this.#n.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#n}getDefaultOptions(){return this.#t}setDefaultOptions(e){this.#t=e}setQueryDefaults(e,t){this.#r.set(ie(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(s=>{Ee(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#s.set(ie(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{Ee(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#t.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=At(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Et&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#t.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#n.clear()}},An=w.createContext(void 0),Gs=e=>{const t=w.useContext(An);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Js=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(An.Provider,{value:e,children:t}));function Ut(e,t){const n=Gs(),[s]=w.useState(()=>new Hs(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const r=w.useSyncExternalStore(w.useCallback(i=>s.subscribe(j.batchCalls(i)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=w.useCallback((i,a)=>{s.mutate(i,a).catch(K)},[s]);if(r.error&&Fs(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}const Ws="modulepreload",Ys=function(e){return"/"+e},Bt={},Y=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=c(n.map(u=>{if(u=Ys(u),u in Bt)return;Bt[u]=!0;const l=u.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const b=document.createElement("link");if(b.rel=l?"stylesheet":Ws,l||(b.as="script"),b.crossOrigin="",b.href=u,a&&b.setAttribute("nonce",a),document.head.appendChild(b),l)return new Promise((A,p)=>{b.addEventListener("load",A),b.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};function En(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xs}=Object.prototype,{getPrototypeOf:Ct}=Object,{iterator:Ge,toStringTag:Cn}=Symbol,Je=(e=>t=>{const n=Xs.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>Je(t)===e),We=e=>t=>typeof t===e,{isArray:me}=Array,pe=We("undefined");function Oe(e){return e!==null&&!pe(e)&&e.constructor!==null&&!pe(e.constructor)&&_(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xn=H("ArrayBuffer");function Zs(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xn(e.buffer),t}const er=We("string"),_=We("function"),On=We("number"),Te=e=>e!==null&&typeof e=="object",tr=e=>e===!0||e===!1,_e=e=>{if(Je(e)!=="object")return!1;const t=Ct(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cn in e)&&!(Ge in e)},nr=e=>{if(!Te(e)||Oe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sr=H("Date"),rr=H("File"),or=H("Blob"),ir=H("FileList"),ar=e=>Te(e)&&_(e.pipe),cr=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_(e.append)&&((t=Je(e))==="formdata"||t==="object"&&_(e.toString)&&e.toString()==="[object FormData]"))},ur=H("URLSearchParams"),[lr,dr,fr,hr]=["ReadableStream","Request","Response","Headers"].map(H),pr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Re(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),me(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(Oe(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(s=0;s<i;s++)a=o[s],t.call(null,e[a],a,e)}}function Tn(e,t){if(Oe(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rn=e=>!pe(e)&&e!==re;function pt(){const{caseless:e,skipUndefined:t}=Rn(this)&&this||{},n={},s=(r,o)=>{const i=e&&Tn(n,o)||o;_e(n[i])&&_e(r)?n[i]=pt(n[i],r):_e(r)?n[i]=pt({},r):me(r)?n[i]=r.slice():(!t||!pe(r))&&(n[i]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Re(arguments[r],s);return n}const mr=(e,t,n,{allOwnKeys:s}={})=>(Re(t,(r,o)=>{n&&_(r)?e[o]=En(r,n):e[o]=r},{allOwnKeys:s}),e),yr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gr=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},br=(e,t,n,s)=>{let r,o,i;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)i=r[o],(!s||s(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&Ct(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},vr=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},wr=e=>{if(!e)return null;if(me(e))return e;let t=e.length;if(!On(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Sr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ct(Uint8Array)),Pr=(e,t)=>{const s=(e&&e[Ge]).call(e);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Ar=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Er=H("HTMLFormElement"),Cr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),$t=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xr=H("RegExp"),Nn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Re(n,(r,o)=>{let i;(i=t(r,o,e))!==!1&&(s[o]=i||r)}),Object.defineProperties(e,s)},Or=e=>{Nn(e,(t,n)=>{if(_(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(_(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Tr=(e,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return me(e)?s(e):s(String(e).split(t)),n},Rr=()=>{},Nr=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Dr(e){return!!(e&&_(e.append)&&e[Cn]==="FormData"&&e[Ge])}const kr=e=>{const t=new Array(10),n=(s,r)=>{if(Te(s)){if(t.indexOf(s)>=0)return;if(Oe(s))return s;if(!("toJSON"in s)){t[r]=s;const o=me(s)?[]:{};return Re(s,(i,a)=>{const c=n(i,r+1);!pe(c)&&(o[a]=c)}),t[r]=void 0,o}}return s};return n(e,0)},Ir=H("AsyncFunction"),Fr=e=>e&&(Te(e)||_(e))&&_(e.then)&&_(e.catch),Dn=((e,t)=>e?setImmediate:t?((n,s)=>(re.addEventListener("message",({source:r,data:o})=>{r===re&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),re.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_(re.postMessage)),jr=typeof queueMicrotask<"u"?queueMicrotask.bind(re):typeof process<"u"&&process.nextTick||Dn,Lr=e=>e!=null&&_(e[Ge]),d={isArray:me,isArrayBuffer:xn,isBuffer:Oe,isFormData:cr,isArrayBufferView:Zs,isString:er,isNumber:On,isBoolean:tr,isObject:Te,isPlainObject:_e,isEmptyObject:nr,isReadableStream:lr,isRequest:dr,isResponse:fr,isHeaders:hr,isUndefined:pe,isDate:sr,isFile:rr,isBlob:or,isRegExp:xr,isFunction:_,isStream:ar,isURLSearchParams:ur,isTypedArray:Sr,isFileList:ir,forEach:Re,merge:pt,extend:mr,trim:pr,stripBOM:yr,inherits:gr,toFlatObject:br,kindOf:Je,kindOfTest:H,endsWith:vr,toArray:wr,forEachEntry:Pr,matchAll:Ar,isHTMLForm:Er,hasOwnProperty:$t,hasOwnProp:$t,reduceDescriptors:Nn,freezeMethods:Or,toObjectSet:Tr,toCamelCase:Cr,noop:Rr,toFiniteNumber:Nr,findKey:Tn,global:re,isContextDefined:Rn,isSpecCompliantForm:Dr,toJSONObject:kr,isAsyncFn:Ir,isThenable:Fr,setImmediate:Dn,asap:jr,isIterable:Lr};function E(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}d.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const kn=E.prototype,In={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{In[e]={value:e}});Object.defineProperties(E,In);Object.defineProperty(kn,"isAxiosError",{value:!0});E.from=(e,t,n,s,r,o)=>{const i=Object.create(kn);d.toFlatObject(e,i,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return E.call(i,a,c,n,s,r),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const qr=null;function mt(e){return d.isPlainObject(e)||d.isArray(e)}function Fn(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function zt(e,t,n){return e?e.concat(t).map(function(r,o){return r=Fn(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function Mr(e){return d.isArray(e)&&!e.some(mt)}const _r=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function Ye(e,t,n){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=d.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!d.isUndefined(y[g])});const s=n.metaTokens,r=n.visitor||l,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(r))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(d.isDate(p))return p.toISOString();if(d.isBoolean(p))return p.toString();if(!c&&d.isBlob(p))throw new E("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(p)||d.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,g,y){let x=p;if(p&&!y&&typeof p=="object"){if(d.endsWith(g,"{}"))g=s?g:g.slice(0,-2),p=JSON.stringify(p);else if(d.isArray(p)&&Mr(p)||(d.isFileList(p)||d.endsWith(g,"[]"))&&(x=d.toArray(p)))return g=Fn(g),x.forEach(function(O,I){!(d.isUndefined(O)||O===null)&&t.append(i===!0?zt([g],I,o):i===null?g:g+"[]",u(O))}),!1}return mt(p)?!0:(t.append(zt(y,g,o),u(p)),!1)}const h=[],b=Object.assign(_r,{defaultVisitor:l,convertValue:u,isVisitable:mt});function A(p,g){if(!d.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(p),d.forEach(p,function(x,C){(!(d.isUndefined(x)||x===null)&&r.call(t,x,d.isString(C)?C.trim():C,g,b))===!0&&A(x,g?g.concat(C):[C])}),h.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return A(e),t}function Kt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function xt(e,t){this._pairs=[],e&&Ye(e,this,t)}const jn=xt.prototype;jn.append=function(t,n){this._pairs.push([t,n])};jn.toString=function(t){const n=t?function(s){return t.call(this,s,Kt)}:Kt;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Ur(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ln(e,t,n){if(!t)return e;const s=n&&n.encode||Ur;d.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=d.isURLSearchParams(t)?t.toString():new xt(t,n).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ht{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(s){s!==null&&t(s)})}}const qn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Br=typeof URLSearchParams<"u"?URLSearchParams:xt,$r=typeof FormData<"u"?FormData:null,zr=typeof Blob<"u"?Blob:null,Kr={isBrowser:!0,classes:{URLSearchParams:Br,FormData:$r,Blob:zr},protocols:["http","https","file","blob","url","data"]},Ot=typeof window<"u"&&typeof document<"u",yt=typeof navigator=="object"&&navigator||void 0,Hr=Ot&&(!yt||["ReactNative","NativeScript","NS"].indexOf(yt.product)<0),Qr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vr=Ot&&window.location.href||"http://localhost",Gr=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ot,hasStandardBrowserEnv:Hr,hasStandardBrowserWebWorkerEnv:Qr,navigator:yt,origin:Vr},Symbol.toStringTag,{value:"Module"})),L={...Gr,...Kr};function Jr(e,t){return Ye(e,new L.classes.URLSearchParams,{visitor:function(n,s,r,o){return L.isNode&&d.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Wr(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Yr(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}function Mn(e){function t(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&d.isArray(r)?r.length:i,c?(d.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!d.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],o)&&d.isArray(r[i])&&(r[i]=Yr(r[i])),!a)}if(d.isFormData(e)&&d.isFunction(e.entries)){const n={};return d.forEachEntry(e,(s,r)=>{t(Wr(s),r,n,0)}),n}return null}function Xr(e,t,n){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ne={transitional:qn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=d.isObject(t);if(o&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return r?JSON.stringify(Mn(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t)||d.isReadableStream(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Jr(t,this.formSerializer).toString();if((a=d.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ye(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),Xr(t)):t}],transformResponse:[function(t){const n=this.transitional||Ne.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(d.isResponse(t)||d.isReadableStream(t))return t;if(t&&d.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?E.from(a,E.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:L.classes.FormData,Blob:L.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],e=>{Ne.headers[e]={}});const Zr=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eo=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Zr[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Qt=Symbol("internals");function Pe(e){return e&&String(e).trim().toLowerCase()}function Ue(e){return e===!1||e==null?e:d.isArray(e)?e.map(Ue):String(e)}function to(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const no=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function rt(e,t,n,s,r){if(d.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!d.isString(t)){if(d.isString(s))return t.indexOf(s)!==-1;if(d.isRegExp(s))return s.test(t)}}function so(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function ro(e,t){const n=d.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,o,i){return this[s].call(this,t,r,o,i)},configurable:!0})})}let U=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(a,c,u){const l=Pe(c);if(!l)throw new Error("header name must be a non-empty string");const h=d.findKey(r,l);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||c]=Ue(a))}const i=(a,c)=>d.forEach(a,(u,l)=>o(u,l,c));if(d.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(d.isString(t)&&(t=t.trim())&&!no(t))i(eo(t),n);else if(d.isObject(t)&&d.isIterable(t)){let a={},c,u;for(const l of t){if(!d.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?d.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}i(a,n)}else t!=null&&o(n,t,s);return this}get(t,n){if(t=Pe(t),t){const s=d.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return to(r);if(d.isFunction(n))return n.call(this,r,s);if(d.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Pe(t),t){const s=d.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||rt(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(i){if(i=Pe(i),i){const a=d.findKey(s,i);a&&(!n||rt(s,s[a],a,n))&&(delete s[a],r=!0)}}return d.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||rt(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return d.forEach(this,(r,o)=>{const i=d.findKey(s,o);if(i){n[i]=Ue(r),delete n[o];return}const a=t?so(o):String(o).trim();a!==o&&delete n[o],n[a]=Ue(r),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return d.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&d.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Qt]=this[Qt]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=Pe(i);s[a]||(ro(r,i),s[a]=!0)}return d.isArray(t)?t.forEach(o):o(t),this}};U.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(U.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});d.freezeMethods(U);function ot(e,t){const n=this||Ne,s=t||n,r=U.from(s.headers);let o=s.data;return d.forEach(e,function(a){o=a.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function _n(e){return!!(e&&e.__CANCEL__)}function ye(e,t,n){E.call(this,e??"canceled",E.ERR_CANCELED,t,n),this.name="CanceledError"}d.inherits(ye,E,{__CANCEL__:!0});function Un(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new E("Request failed with status code "+n.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function oo(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function io(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=s[o];i||(i=u),n[r]=c,s[r]=u;let h=o,b=0;for(;h!==r;)b+=n[h++],h=h%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),u-i<t)return;const A=l&&u-l;return A?Math.round(b*1e3/A):void 0}}function ao(e,t){let n=0,s=1e3/t,r,o;const i=(u,l=Date.now())=>{n=l,r=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const l=Date.now(),h=l-n;h>=s?i(u,l):(r=u,o||(o=setTimeout(()=>{o=null,i(r)},s-h)))},()=>r&&i(r)]}const ze=(e,t,n=3)=>{let s=0;const r=io(50,250);return ao(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-s,u=r(c),l=i<=a;s=i;const h={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},n)},Vt=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Gt=e=>(...t)=>d.asap(()=>e(...t)),co=L.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,L.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(L.origin),L.navigator&&/(msie|trident)/i.test(L.navigator.userAgent)):()=>!0,uo=L.hasStandardBrowserEnv?{write(e,t,n,s,r,o){const i=[e+"="+encodeURIComponent(t)];d.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),d.isString(s)&&i.push("path="+s),d.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fo(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Bn(e,t,n){let s=!lo(t);return e&&(s||n==!1)?fo(e,t):t}const Jt=e=>e instanceof U?{...e}:e;function ae(e,t){t=t||{};const n={};function s(u,l,h,b){return d.isPlainObject(u)&&d.isPlainObject(l)?d.merge.call({caseless:b},u,l):d.isPlainObject(l)?d.merge({},l):d.isArray(l)?l.slice():l}function r(u,l,h,b){if(d.isUndefined(l)){if(!d.isUndefined(u))return s(void 0,u,h,b)}else return s(u,l,h,b)}function o(u,l){if(!d.isUndefined(l))return s(void 0,l)}function i(u,l){if(d.isUndefined(l)){if(!d.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function a(u,l,h){if(h in t)return s(u,l);if(h in e)return s(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,l,h)=>r(Jt(u),Jt(l),h,!0)};return d.forEach(Object.keys({...e,...t}),function(l){const h=c[l]||r,b=h(e[l],t[l],l);d.isUndefined(b)&&h!==a||(n[l]=b)}),n}const $n=e=>{const t=ae({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=U.from(i),t.url=Ln(Bn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),d.isFormData(n)){if(L.hasStandardBrowserEnv||L.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(d.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,h])=>{u.includes(l.toLowerCase())&&i.set(l,h)})}}if(L.hasStandardBrowserEnv&&(s&&d.isFunction(s)&&(s=s(t)),s||s!==!1&&co(t.url))){const c=r&&o&&uo.read(o);c&&i.set(r,c)}return t},ho=typeof XMLHttpRequest<"u",po=ho&&function(e){return new Promise(function(n,s){const r=$n(e);let o=r.data;const i=U.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=r,l,h,b,A,p;function g(){A&&A(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function x(){if(!y)return;const O=U.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:O,config:e,request:y};Un(function(M){n(M),g()},function(M){s(M),g()},D),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(s(new E("Request aborted",E.ECONNABORTED,e,y)),y=null)},y.onerror=function(I){const D=I&&I.message?I.message:"Network Error",$=new E(D,E.ERR_NETWORK,e,y);$.event=I||null,s($),y=null},y.ontimeout=function(){let I=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||qn;r.timeoutErrorMessage&&(I=r.timeoutErrorMessage),s(new E(I,D.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,e,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&d.forEach(i.toJSON(),function(I,D){y.setRequestHeader(D,I)}),d.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),u&&([b,p]=ze(u,!0),y.addEventListener("progress",b)),c&&y.upload&&([h,A]=ze(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(l=O=>{y&&(s(!O||O.type?new ye(null,e,y):O),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const C=oo(r.url);if(C&&L.protocols.indexOf(C)===-1){s(new E("Unsupported protocol "+C+":",E.ERR_BAD_REQUEST,e));return}y.send(o||null)})},mo=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const o=function(u){if(!r){r=!0,a();const l=u instanceof Error?u:this.reason;s.abort(l instanceof E?l:new ye(l instanceof Error?l.message:l))}};let i=t&&setTimeout(()=>{i=null,o(new E(`timeout ${t} of ms exceeded`,E.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>d.asap(a),c}},yo=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},go=async function*(e,t){for await(const n of bo(e))yield*yo(n,t)},bo=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Wt=(e,t,n,s)=>{const r=go(e,t);let o=0,i,a=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await r.next();if(u){a(),c.close();return}let h=l.byteLength;if(n){let b=o+=h;n(b)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},Yt=64*1024,{isFunction:Me}=d,vo=(({Request:e,Response:t})=>({Request:e,Response:t}))(d.global),{ReadableStream:Xt,TextEncoder:Zt}=d.global,en=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wo=e=>{e=d.merge.call({skipUndefined:!0},vo,e);const{fetch:t,Request:n,Response:s}=e,r=t?Me(t):typeof fetch=="function",o=Me(n),i=Me(s);if(!r)return!1;const a=r&&Me(Xt),c=r&&(typeof Zt=="function"?(p=>g=>p.encode(g))(new Zt):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=o&&a&&en(()=>{let p=!1;const g=new n(L.origin,{body:new Xt,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),l=i&&a&&en(()=>d.isReadableStream(new s("").body)),h={stream:l&&(p=>p.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(g,y)=>{let x=g&&g[p];if(x)return x.call(g);throw new E(`Response type '${p}' is not supported`,E.ERR_NOT_SUPPORT,y)})});const b=async p=>{if(p==null)return 0;if(d.isBlob(p))return p.size;if(d.isSpecCompliantForm(p))return(await new n(L.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(d.isArrayBufferView(p)||d.isArrayBuffer(p))return p.byteLength;if(d.isURLSearchParams(p)&&(p=p+""),d.isString(p))return(await c(p)).byteLength},A=async(p,g)=>{const y=d.toFiniteNumber(p.getContentLength());return y??b(g)};return async p=>{let{url:g,method:y,data:x,signal:C,cancelToken:O,timeout:I,onDownloadProgress:D,onUploadProgress:$,responseType:M,headers:q,withCredentials:Q="same-origin",fetchOptions:ge}=$n(p),V=t||fetch;M=M?(M+"").toLowerCase():"text";let ne=mo([C,O&&O.toAbortSignal()],I),X=null;const G=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let be;try{if($&&u&&y!=="get"&&y!=="head"&&(be=await A(q,x))!==0){let J=new n(g,{method:"POST",body:x,duplex:"half"}),Z;if(d.isFormData(x)&&(Z=J.headers.get("content-type"))&&q.setContentType(Z),J.body){const[ve,de]=Vt(be,ze(Gt($)));x=Wt(J.body,Yt,ve,de)}}d.isString(Q)||(Q=Q?"include":"omit");const B=o&&"credentials"in n.prototype,se={...ge,signal:ne,method:y.toUpperCase(),headers:q.normalize().toJSON(),body:x,duplex:"half",credentials:B?Q:void 0};X=o&&new n(g,se);let z=await(o?V(X,ge):V(g,se));const De=l&&(M==="stream"||M==="response");if(l&&(D||De&&G)){const J={};["status","statusText","headers"].forEach(Ie=>{J[Ie]=z[Ie]});const Z=d.toFiniteNumber(z.headers.get("content-length")),[ve,de]=D&&Vt(Z,ze(Gt(D),!0))||[];z=new s(Wt(z.body,Yt,ve,()=>{de&&de(),G&&G()}),J)}M=M||"text";let ke=await h[d.findKey(h,M)||"text"](z,p);return!De&&G&&G(),await new Promise((J,Z)=>{Un(J,Z,{data:ke,headers:U.from(z.headers),status:z.status,statusText:z.statusText,config:p,request:X})})}catch(B){throw G&&G(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,p,X),{cause:B.cause||B}):E.from(B,B&&B.code,p,X)}}},So=new Map,zn=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:r}=t,o=[s,r,n];let i=o.length,a=i,c,u,l=So;for(;a--;)c=o[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:wo(t)),l=u;return u};zn();const gt={http:qr,xhr:po,fetch:{get:zn}};d.forEach(gt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const tn=e=>`- ${e}`,Po=e=>d.isFunction(e)||e===null||e===!1,Kn={getAdapter:(e,t)=>{e=d.isArray(e)?e:[e];const{length:n}=e;let s,r;const o={};for(let i=0;i<n;i++){s=e[i];let a;if(r=s,!Po(s)&&(r=gt[(a=String(s)).toLowerCase()],r===void 0))throw new E(`Unknown adapter '${a}'`);if(r&&(d.isFunction(r)||(r=r.get(t))))break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(tn).join(`
`):" "+tn(i[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:gt};function it(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ye(null,e)}function nn(e){return it(e),e.headers=U.from(e.headers),e.data=ot.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Kn.getAdapter(e.adapter||Ne.adapter,e)(e).then(function(s){return it(e),s.data=ot.call(e,e.transformResponse,s),s.headers=U.from(s.headers),s},function(s){return _n(s)||(it(e),s&&s.response&&(s.response.data=ot.call(e,e.transformResponse,s.response),s.response.headers=U.from(s.response.headers))),Promise.reject(s)})}const Hn="1.12.2",Xe={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xe[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const sn={};Xe.transitional=function(t,n,s){function r(o,i){return"[Axios v"+Hn+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(t===!1)throw new E(r(i," has been removed"+(n?" in "+n:"")),E.ERR_DEPRECATED);return n&&!sn[i]&&(sn[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};Xe.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ao(e,t,n){if(typeof e!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new E("option "+o+" must be "+c,E.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new E("Unknown option "+o,E.ERR_BAD_OPTION)}}const Be={assertOptions:Ao,validators:Xe},W=Be.validators;let oe=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ht,response:new Ht}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ae(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&Be.assertOptions(s,{silentJSONParsing:W.transitional(W.boolean),forcedJSONParsing:W.transitional(W.boolean),clarifyTimeoutError:W.transitional(W.boolean)},!1),r!=null&&(d.isFunction(r)?n.paramsSerializer={serialize:r}:Be.assertOptions(r,{encode:W.function,serialize:W.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Be.assertOptions(n,{baseUrl:W.spelling("baseURL"),withXsrfToken:W.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&d.merge(o.common,o[n.method]);o&&d.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=U.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,h=0,b;if(!c){const p=[nn.bind(this),void 0];for(p.unshift(...a),p.push(...u),b=p.length,l=Promise.resolve(n);h<b;)l=l.then(p[h++],p[h++]);return l}b=a.length;let A=n;for(;h<b;){const p=a[h++],g=a[h++];try{A=p(A)}catch(y){g.call(this,y);break}}try{l=nn.call(this,A)}catch(p){return Promise.reject(p)}for(h=0,b=u.length;h<b;)l=l.then(u[h++],u[h++]);return l}getUri(t){t=ae(this.defaults,t);const n=Bn(t.baseURL,t.url,t.allowAbsoluteUrls);return Ln(n,t.params,t.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(t){oe.prototype[t]=function(n,s){return this.request(ae(s||{},{method:t,url:n,data:(s||{}).data}))}});d.forEach(["post","put","patch"],function(t){function n(s){return function(o,i,a){return this.request(ae(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}oe.prototype[t]=n(),oe.prototype[t+"Form"]=n(!0)});let Eo=class Qn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,a){s.reason||(s.reason=new ye(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Qn(function(r){t=r}),cancel:t}}};function Co(e){return function(n){return e.apply(null,n)}}function xo(e){return d.isObject(e)&&e.isAxiosError===!0}const bt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bt).forEach(([e,t])=>{bt[t]=e});function Vn(e){const t=new oe(e),n=En(oe.prototype.request,t);return d.extend(n,oe.prototype,t,{allOwnKeys:!0}),d.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Vn(ae(e,r))},n}const k=Vn(Ne);k.Axios=oe;k.CanceledError=ye;k.CancelToken=Eo;k.isCancel=_n;k.VERSION=Hn;k.toFormData=Ye;k.AxiosError=E;k.Cancel=k.CanceledError;k.all=function(t){return Promise.all(t)};k.spread=Co;k.isAxiosError=xo;k.mergeConfig=ae;k.AxiosHeaders=U;k.formToJSON=e=>Mn(d.isHTMLForm(e)?new FormData(e):e);k.getAdapter=Kn.getAdapter;k.HttpStatusCode=bt;k.default=k;const{Axios:ia,AxiosError:aa,CanceledError:ca,isCancel:ua,CancelToken:la,VERSION:da,all:fa,Cancel:ha,isAxiosError:pa,spread:ma,toFormData:ya,AxiosHeaders:ga,HttpStatusCode:ba,formToJSON:va,getAdapter:wa,mergeConfig:Sa}=k,Oo="http://localhost:8081",Ze="00000000-0000-0000-0000-000000000001",Gn="admin@dev.local",To="Admin1234",Ro="dev-session-token",Jn="dev-session-refresh-token",et=Ze,No=["admin"],Do=["sales","purchases","inventory","customers","suppliers","finances","reports","settings"],rn=globalThis.structuredClone;function ko(e){return typeof rn=="function"?rn(e):JSON.parse(JSON.stringify(e))}let Ke=!1;function Wn(e){Ke?console.info(`[API] Using offline demo data for ${e}.`):(Ke=!0,console.warn(`[API] Network unreachable during ${e}. Switching to in-memory demo data so the workspace keeps working.`))}function on(e){return ko(e)}function Yn(e){return Array.isArray(e)?e:[]}function Io(e){if(typeof e!="string")return null;const t=e.match(/filename\*=UTF-8''([^;]+)/i);if(t&&t[1])try{return decodeURIComponent(t[1])}catch(s){console.warn("[API] Failed to decode UTF-8 filename",s)}const n=e.match(/filename="?([^";]+)"?/i);return n&&n[1]?n[1]:null}function Xn(e,t){const n=e.data,s=typeof n?.type=="string"&&n.type?n.type:void 0,r=typeof e.headers["content-type"]=="string"?e.headers["content-type"]:void 0,o=s||r||"application/octet-stream",i=Io(e.headers["content-disposition"])||t;return{blob:n,filename:i,mimeType:o}}function Tt(e,t){const n=t==="preview"?"Vista previa no disponible":"Descarga no disponible",r=`<!DOCTYPE html><html lang="es"><head><meta charset="utf-8" /><title>${n}</title></head><body><main style="font-family:system-ui,sans-serif;padding:24px;max-width:640px;margin:auto;"><h1 style="margin-bottom:16px;">${n}</h1><p style="margin-bottom:16px;">${t==="preview"?"No hay contenido disponible sin conexin para mostrar este documento.":"No hay archivo disponible para descargar sin conexin."}</p><p style="color:#555;">Documento: ${e}</p></main></body></html>`;return{blob:new Blob([r],{type:"text/html"}),filename:`${t}-documento-${e}.html`,mimeType:"text/html"}}const Zn="offline://document";function an(e,t){return`${Zn}/${t}/${encodeURIComponent(e)}`}function Fo(e){if(typeof e!="string"||!e.startsWith(Zn))return null;const t=e.split("/");if(t.length<4)return null;const n=t[2],s=decodeURIComponent(t.slice(3).join("/"));return n!=="LOCAL"&&n!=="OFFICIAL"||!s?null:{id:s,version:n}}function vt(e){return{localPdf:an(e,"LOCAL"),officialPdf:an(e,"OFFICIAL")}}const jo=new Date,R=e=>e.toISOString();function N(e){const t=new Date(jo);return t.setDate(t.getDate()-e),t}const m={companies:[{id:"cmp-demo-001",businessName:"Demo Comercial SpA",rut:"76.123.456-0",businessActivity:"Retail",address:"Av. Siempre Viva 742, Santiago",commune:"Providencia",phone:"+56 2 2345 6677",email:"contacto@democomercial.cl",receiptFooterMessage:"Gracias por tu compra!",createdAt:R(N(180)),updatedAt:R(N(20))},{id:"cmp-demo-002",businessName:"Servicios Norte Ltda.",rut:"77.987.654-3",businessActivity:"Servicios",address:"Av. Costanera 1200, Antofagasta",commune:"Antofagasta",phone:"+56 55 278 9900",email:"administracion@serviciosnorte.cl",receiptFooterMessage:"Servicio garantizado",createdAt:R(N(95)),updatedAt:R(N(10))},{id:"cmp-demo-003",businessName:"Distribuidora Andina",rut:"78.321.654-K",businessActivity:"Logstica",address:"Camino a Melipilla 15000, Maip",commune:"Maip",phone:"+56 2 2388 1122",email:"ventas@andina.cl",receiptFooterMessage:"Despachos en 24 horas",createdAt:R(N(45)),updatedAt:R(N(3))}],products:[{id:"prd-demo-001",sku:"SKU-1001",name:"Caf en grano premium 1Kg",description:"Tueste medio alto, origen Colombia",category:"Alimentos",barcode:"7800001001002",currentPrice:11990,imageUrl:void 0,qrUrl:void 0,stock:120,criticalStock:40,active:!0},{id:"prd-demo-002",sku:"SKU-1002",name:"Azcar orgnica 1Kg",description:"Certificada comercio justo",category:"Alimentos",barcode:"7800001002001",currentPrice:3290,imageUrl:void 0,qrUrl:void 0,stock:68,criticalStock:25,active:!0},{id:"prd-demo-003",sku:"SKU-2040",name:"Vasos biodegradables 12oz (pack 50)",description:"Pulpa de caa, compostable",category:"Insumos",barcode:"7801234567005",currentPrice:8990,imageUrl:void 0,qrUrl:void 0,stock:22,criticalStock:30,active:!0},{id:"prd-demo-004",sku:"SKU-3055",name:"Botella vidrio reusable 600ml",description:"Incluye funda trmica",category:"Retail",barcode:"7801231234568",currentPrice:7490,imageUrl:void 0,qrUrl:void 0,stock:6,criticalStock:15,active:!1}],productPrices:{"prd-demo-001":[{id:"pp-001",productId:"prd-demo-001",price:10990,validFrom:R(N(90))},{id:"pp-002",productId:"prd-demo-001",price:11990,validFrom:R(N(28))}],"prd-demo-002":[{id:"pp-003",productId:"prd-demo-002",price:2990,validFrom:R(N(120))},{id:"pp-004",productId:"prd-demo-002",price:3290,validFrom:R(N(32))}],"prd-demo-003":[{id:"pp-005",productId:"prd-demo-003",price:8990,validFrom:R(N(62))}],"prd-demo-004":[{id:"pp-006",productId:"prd-demo-004",price:7490,validFrom:R(N(200))}]},suppliers:[{id:"sup-demo-001",name:"Proveedor Andes",rut:"76.555.111-1",businessActivity:"Distribucin de alimentos",address:"Av. Los Leones 1200, Providencia",commune:"Providencia",phone:"+56 2 2456 7788",email:"ventas@proveedorandes.cl"},{id:"sup-demo-002",name:"Granos Latino",rut:"77.444.333-2",businessActivity:"Importacin de granos",address:"Camino a Noviciado 2345, Pudahuel",commune:"Pudahuel",phone:"+56 2 2988 1100",email:"contacto@granoslatino.cl"},{id:"sup-demo-003",name:"Eco Packaging",rut:"79.222.888-5",businessActivity:"Envases sustentables",address:"Av. Repblica 980, Santiago",commune:"Santiago",phone:"+56 2 2311 4455",email:"ventas@ecopackaging.cl"}],customers:[{id:"cus-demo-001",name:"Cafetera Plaza",address:"Av. Providencia 1234, Santiago",lat:-33.4263,lng:-70.6209,phone:"+56 2 2345 6677",email:"contacto@cafeteriaplaza.cl",segment:"HORECA",document:"76.123.456-0",commune:"Providencia"},{id:"cus-demo-002",name:"MiniMarket Central",address:"Av. Alemania 890, Temuco",phone:"+56 45 212 3344",email:"compras@mmcentral.cl",segment:"Retail",document:"77.987.654-3",commune:"Temuco"},{id:"cus-demo-003",name:"Corporacin Sur",address:"Los Carrera 450, Concepcin",phone:"+56 41 276 0011",email:"abastecimiento@corsur.cl",segment:"Empresas",document:"59.456.789-1",commune:"Concepcin"},{id:"cus-demo-004",name:"Coffeelab Boutique",address:"Av. Peru 345, Antofagasta",phone:"+56 55 284 9988",email:"ventas@coffeelab.cl",segment:"HORECA",document:"65.432.109-4",commune:"Antofagasta"},{id:"cus-demo-005",name:"Vecinos Gourmet",address:"Av. Italia 987, Santiago",phone:"+56 2 2567 7789",email:"hola@vecinosgourmet.cl",document:"79.321.654-2",commune:"Providencia"}],sales:[{id:"sal-demo-001",customerId:"cus-demo-001",customerName:"Cafetera Plaza",docNumber:"F-1200",docType:"Factura",paymentMethod:"transferencia",status:"emitida",net:95e4,vat:180500,total:1130500,issuedAt:R(N(2))},{id:"sal-demo-002",customerId:"cus-demo-004",customerName:"Coffeelab Boutique",docNumber:"B-2301",docType:"Boleta",paymentMethod:"tarjeta",status:"emitida",net:28e4,vat:53200,total:333200,issuedAt:R(N(4))},{id:"sal-demo-003",customerId:"cus-demo-002",customerName:"MiniMarket Central",docNumber:"F-4502",docType:"Factura",paymentMethod:"credito",status:"cancelled",net:41e4,vat:77900,total:487900,issuedAt:R(N(9))}],saleDetails:{"sal-demo-001":{id:"sal-demo-001",issuedAt:R(N(2)),docType:"Factura",docNumber:"F-1200",paymentMethod:"transferencia",status:"emitida",customer:{id:"cus-demo-001",name:"Cafetera Plaza"},items:[{productId:"prd-demo-001",productName:"Caf en grano premium 1Kg",qty:80,unitPrice:11990,discount:0,lineTotal:959200},{productId:"prd-demo-003",productName:"Vasos biodegradables 12oz (pack 50)",qty:50,unitPrice:8990,discount:0,lineTotal:449500}],net:95e4,vat:180500,total:1130500,thermalTicket:`PYMERP
Venta sal-demo-001
Cliente: Cafetera Plaza
Total: $1.130.500
Gracias por su compra`},"sal-demo-002":{id:"sal-demo-002",issuedAt:R(N(4)),docType:"Boleta",docNumber:"B-2301",paymentMethod:"tarjeta",status:"emitida",customer:{id:"cus-demo-004",name:"Coffeelab Boutique"},items:[{productId:"prd-demo-001",productName:"Caf en grano premium 1Kg",qty:20,unitPrice:11990,discount:0,lineTotal:239800},{productId:"prd-demo-002",productName:"Azcar orgnica 1Kg",qty:40,unitPrice:3290,discount:0,lineTotal:131600}],net:28e4,vat:53200,total:333200,thermalTicket:`PYMERP
Venta sal-demo-002
Total: $333.200
Emitida con POS`},"sal-demo-003":{id:"sal-demo-003",issuedAt:R(N(9)),docType:"Factura",docNumber:"F-4502",paymentMethod:"credito",status:"cancelled",customer:{id:"cus-demo-002",name:"MiniMarket Central"},items:[{productId:"prd-demo-003",productName:"Vasos biodegradables 12oz (pack 50)",qty:25,unitPrice:8990,discount:0,lineTotal:224750},{productId:"prd-demo-002",productName:"Azcar orgnica 1Kg",qty:60,unitPrice:3290,discount:0,lineTotal:197400}],net:41e4,vat:77900,total:487900,thermalTicket:`PYMERP
Venta sal-demo-003
ESTADO: Cancelada`}},purchases:[{id:"pur-demo-001",supplierId:"sup-demo-001",supplierName:"Proveedor Andes",docType:"Factura",docNumber:"F-4432",status:"received",net:54e4,vat:102600,total:642600,issuedAt:R(N(6))},{id:"pur-demo-002",supplierId:"sup-demo-003",supplierName:"Eco Packaging",docType:"Factura",docNumber:"F-8891",status:"received",net:215e3,vat:40850,total:255850,issuedAt:R(N(11))},{id:"pur-demo-003",supplierId:"sup-demo-002",supplierName:"Granos Latino",docType:"Factura",docNumber:"F-5501",status:"cancelled",net:18e4,vat:34200,total:214200,issuedAt:R(N(18))}],inventorySummary:{totalValue:1585e3,activeProducts:3,inactiveProducts:1,totalProducts:4,lowStockAlerts:2,lowStockThreshold:12},inventoryAlerts:[{lotId:"lot-demo-001",productId:"prd-demo-002",qtyAvailable:8,createdAt:R(N(1)),expDate:R(N(-60))},{lotId:"lot-demo-002",productId:"prd-demo-003",qtyAvailable:5,createdAt:R(N(3)),expDate:R(N(-120))}],inventorySettings:{lowStockThreshold:12,updatedAt:R(N(5))},salesDaily:Array.from({length:14}).map((e,t)=>{const n=13-t,s=35e4+t%5*42e3;return{date:R(N(n)).slice(0,10),total:s,count:4+t%3}}),purchaseDaily:Array.from({length:14}).map((e,t)=>{const n=13-t,s=22e4+t%4*38e3;return{date:R(N(n)).slice(0,10),total:s,count:2+t%2}})};function ce(e){return`${e}-${Math.random().toString(36).slice(2,10)}`}function F(e){return e?.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")??""}function tt(e,t){return t?e?F(e).includes(t):!1:!0}function ue(e,t=0,n=20){const s=n>0?n:20,r=t*s,o=e.slice(r,r+s),i=e.length,a=s>0?Math.ceil(i/s):0;return{content:o,totalElements:i,totalPages:a,size:s,number:t,hasNext:a>0?t+1<a:!1}}function S(e,t,n){return Ke?Promise.resolve(on(n())):t().catch(s=>{if(nt(s))return Wn(e),on(n());throw s})}function Rt(e,t,n){return Ke?(n(),Promise.resolve()):t().catch(s=>{if(nt(s)){Wn(e),n();return}throw s})}function le(){const e=m.products.filter(t=>t.active).length;m.inventorySummary={totalValue:Number(m.inventorySummary.totalValue)||0,activeProducts:e,inactiveProducts:m.products.length-e,totalProducts:m.products.length,lowStockAlerts:m.inventoryAlerts.length,lowStockThreshold:m.inventorySettings.lowStockThreshold}}R(N(0));function Lo(e){const t=F(e?.q??""),n=e?.status??"active",s=m.products.filter(i=>n!=="all"&&i.active!==(n==="active")?!1:t?[i.name,i.sku,i.barcode,i.description].some(a=>tt(a,t)):!0),r=e?.page??0,o=e?.size??20;return ue(s,r,o)}function qo(e,t){const n=F(e);if(!n)return null;const s=r=>F(r??"")===n;return m.products.find(r=>t==="barcode"?s(r.barcode??null):t==="sku"?s(r.sku):t==="qr"?s(r.qrUrl??null):!1)??null}function Mo(e){const t={id:ce("prd-demo"),sku:e.sku||`SKU-${Math.floor(Math.random()*9999)}`,name:e.name,description:e.description,category:e.category,barcode:e.barcode,imageUrl:e.imageUrl,qrUrl:void 0,stock:0,criticalStock:0,currentPrice:0,active:!0};return m.products=[t,...m.products],m.productPrices[t.id]=[],le(),t}function _o(e,t){const n=m.products.findIndex(r=>r.id===e);if(n===-1)throw new Error("Producto no encontrado");const s={...m.products[n],...t};return m.products=m.products.map((r,o)=>o===n?s:r),le(),s}function Uo(e,t){const n=m.products.findIndex(r=>r.id===e);if(n===-1)throw new Error("Producto no encontrado");const s={...m.products[n],active:t};return m.products=m.products.map((r,o)=>o===n?s:r),le(),s}function Bo(e){m.products=m.products.filter(t=>t.id!==e),delete m.productPrices[e],le()}function at(e){if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0}function es(e){const t={sku:e.sku.trim(),name:e.name.trim(),description:at(e.description),category:at(e.category),barcode:at(e.barcode)};if(e.imageFile)t.imageUrl=null;else if(e.imageUrl===null)t.imageUrl=null;else if(typeof e.imageUrl=="string"){const n=e.imageUrl.trim();t.imageUrl=n.length>0?n:null}return t}function ts(e,t){const n=new FormData;return n.append("product",new Blob([JSON.stringify(e)],{type:"application/json"})),t instanceof File&&n.append("image",t),n}function $o(e){const t=[{lotId:`${e}-lot-1`,quantity:42,location:"Bodega central",expiresAt:new Date(Date.now()+10368e6).toISOString()},{lotId:`${e}-lot-2`,quantity:18,location:"Tienda principal",expiresAt:new Date(Date.now()+3888e6).toISOString()}],n=t.reduce((r,o)=>r+o.quantity,0),s=m.products.findIndex(r=>r.id===e);return s!==-1&&(m.products=m.products.map((r,o)=>o===s?{...r,stock:n}:r)),{productId:e,total:n,lots:t}}function zo(e,t){const n=m.products.findIndex(r=>r.id===e);if(n===-1)throw new Error("Producto no encontrado");const s={...m.products[n],criticalStock:t};return m.products=m.products.map((r,o)=>o===n?s:r),s}function Ko(e){const t=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
    <rect width="120" height="120" fill="#0b0d17" />
    <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#ffffff" font-size="18">${e.slice(-4)}</text>
  </svg>`;return new Blob([t],{type:"image/svg+xml"})}function Ho(e,t){const n=Yn(m.productPrices[e]).sort((s,r)=>r.validFrom.localeCompare(s.validFrom));return ue(n,t?.page??0,t?.size??n.length)}function Qo(e,t){const n={id:ce("pp-demo"),productId:e,price:t.price,validFrom:t.validFrom??new Date().toISOString()},s=Yn(m.productPrices[e]);m.productPrices[e]=[n,...s];const r=m.products.findIndex(o=>o.id===e);if(r!==-1){const o={...m.products[r],currentPrice:t.price};m.products=m.products.map((i,a)=>a===r?o:i)}return n}function Vo(){return m.suppliers}function Go(e){const t={id:ce("sup-demo"),name:e.name,rut:e.rut,address:e.address??null,commune:e.commune??null,businessActivity:e.businessActivity??null,phone:e.phone??null,email:e.email??null};return m.suppliers=[...m.suppliers,t],t}function Jo(e,t){const n=m.suppliers.findIndex(r=>r.id===e);if(n===-1)throw new Error("Proveedor no encontrado");const s={...m.suppliers[n],...t};return m.suppliers=m.suppliers.map((r,o)=>o===n?s:r),s}function Wo(e){m.suppliers=m.suppliers.filter(t=>t.id!==e)}function Yo(e={}){const t=F(e.q??""),n=e.segment?.trim(),s=m.customers.filter(r=>{if(n&&n.length>0){if(n===wt){if(r.segment&&r.segment.trim())return!1}else if(F(r.segment)!==F(n))return!1}return t?[r.name,r.email,r.phone,r.address,r.document,r.commune].some(o=>tt(o,t)):!0});return ue(s,e.page??0,e.size??20)}function Xo(e){const t={id:ce("cus-demo"),name:e.name,address:e.address,lat:e.lat??null,lng:e.lng??null,phone:e.phone,email:e.email,segment:e.segment,document:e.document??null,commune:e.commune??null};return m.customers=[t,...m.customers],t}function Zo(e,t){const n=m.customers.findIndex(r=>r.id===e);if(n===-1)throw new Error("Cliente no encontrado");const s={...m.customers[n],...t,lat:t.lat??null,lng:t.lng??null};return m.customers=m.customers.map((r,o)=>o===n?s:r),s}function ei(e){m.customers=m.customers.filter(t=>t.id!==e)}function ti(){const e=new Map;for(const t of m.customers){const n=t.segment&&t.segment.trim()?t.segment:wt,s=n;if(!e.has(s)){const r=n===wt?"Sin segmentar":t.segment??"Sin segmentar";e.set(s,{code:s,name:r,segment:r,total:0,color:null})}e.get(s).total+=1}return Array.from(e.values())}function ns(e){return["PYMERP DEMO",`Documento: ${e.docType}`,`Venta: ${e.id}`,`Cliente: ${e.customer?.name??"Mostrador"}`,`Total: $${Number(e.total).toLocaleString("es-CL")}`,"Gracias por utilizar el modo demo"].join(`
`)}function ni(e={}){const t=F(e.search??""),n=m.sales.filter(s=>e.status&&e.status.trim()&&F(s.status)!==F(e.status)||e.docType&&e.docType.trim()&&F(s.docType)!==F(e.docType)||e.paymentMethod&&e.paymentMethod.trim()&&F(s.paymentMethod)!==F(e.paymentMethod)||e.from&&s.issuedAt<e.from||e.to&&s.issuedAt>e.to?!1:t?[s.docType,s.paymentMethod,s.customerName,s.customerId,s.id].filter(Boolean).some(r=>tt(String(r),t)):!0);return ue(n,e.page??0,e.size??20)}function si(e){const t=m.saleDetails[e];if(!t)throw new Error("Venta no encontrada");return t}function ri(e){const t=ce("sal-demo"),n=e.items.reduce((u,l)=>u+l.qty*l.unitPrice-(l.discount??0),0),s=Math.round(n*.19),r=n-s,i=`${(e.docType||"DOC").slice(0,3).toUpperCase()}-${t.slice(-4).toUpperCase()}`,a={id:t,customerId:e.customerId,customerName:m.customers.find(u=>u.id===e.customerId)?.name,docNumber:i,docType:e.docType,paymentMethod:e.paymentMethod??"transferencia",status:"emitida",net:r,vat:s,total:n,issuedAt:new Date().toISOString()};m.sales=[a,...m.sales];const c={...a,docType:e.docType,paymentMethod:a.paymentMethod??"transferencia",customer:a.customerId?{id:a.customerId,name:a.customerName??"Cliente"}:null,items:e.items.map(u=>({productId:u.productId,productName:m.products.find(l=>l.id===u.productId)?.name??u.productId,qty:u.qty,unitPrice:u.unitPrice,discount:u.discount??0,lineTotal:u.qty*u.unitPrice-(u.discount??0)})),thermalTicket:""};return c.thermalTicket=ns(c),m.saleDetails[t]=c,{id:t,customerId:a.customerId,customerName:a.customerName,status:a.status,net:a.net,vat:a.vat,total:a.total,issuedAt:a.issuedAt,docType:a.docType??"Factura",paymentMethod:a.paymentMethod??"transferencia",docNumber:a.docNumber}}function ss(e,t){const n=m.sales.findIndex(o=>o.id===e);if(n===-1)throw new Error("Venta no encontrada");const s={...m.sales[n],...t};m.sales=m.sales.map((o,i)=>i===n?s:o);const r=m.saleDetails[e];return r&&(m.saleDetails[e]={...r,docType:s.docType??r.docType,docNumber:s.docNumber??r.docNumber,paymentMethod:s.paymentMethod??r.paymentMethod,status:s.status??r.status,thermalTicket:ns({...r,...s})}),{id:s.id,customerId:s.customerId,customerName:s.customerName,status:s.status,net:s.net,vat:s.vat,total:s.total,issuedAt:s.issuedAt,docType:s.docType??"Factura",paymentMethod:s.paymentMethod??"transferencia",docNumber:s.docNumber}}function oi(e){return ss(e,{status:"cancelled"})}function ii(e=14){return m.salesDaily.slice(-e)}function ai(e,t){return!e||!t||e>t?[]:m.salesDaily.filter(n=>n.date>=e&&n.date<=t)}function ci(e){const t=e.trim(),n=/^(\d+)\s*d$/i.exec(t);if(!n)return 14;const s=Number.parseInt(n[1],10);return Number.isNaN(s)?14:Math.max(1,s)}function cn(e,t){if(!e||!t)return null;const n=new Date(`${e}T00:00:00Z`),s=new Date(`${t}T00:00:00Z`);if(Number.isNaN(n.getTime())||Number.isNaN(s.getTime()))return null;const r=n.getTime(),o=s.getTime()+86399999;return r<=o?{start:r,end:o}:{start:o,end:r}}function ui({from:e,to:t}){const n=cn(e,t);if(!n)return{totalDay:0,topProduct:null,topPaymentMethods:[]};const s=new Set(["boleta","factura"]),r=m.sales.filter(h=>{if(!h.issuedAt||h.status==="cancelled")return!1;const b=F(h.docType);if(b&&!s.has(b))return!1;const A=new Date(h.issuedAt).getTime();return A>=n.start&&A<=n.end}),o=cn(t,t),i=r.reduce((h,b)=>{if(!o)return h;const A=new Date(b.issuedAt).getTime();return A>=o.start&&A<=o.end?h+(b.total??0):h},0),a=new Map;r.forEach(h=>{(m.saleDetails[h.id]?.items??[]).forEach(p=>{const g=p.productId??p.productName;if(!g)return;const y=a.get(g)??{id:g,name:p.productName,qty:0};y.qty+=p.qty??0,y.name=p.productName,a.set(g,y)})});let c=null;a.forEach(h=>{(!c||h.qty>c.qty)&&(c=h)});const u=new Map;r.forEach(h=>{const b=h.paymentMethod?.trim().length?h.paymentMethod:"Sin mtodo";u.set(b,(u.get(b)??0)+1)});const l=Array.from(u.entries()).sort((h,b)=>b[1]-h[1]).map(([h,b])=>({method:h,count:b}));return{totalDay:i,topProduct:c,topPaymentMethods:l}}function li({from:e,to:t}){if(!e||!t||e>t)return{purchase:[],sale:[]};const n=m.purchaseDaily.filter(r=>r.date>=e&&r.date<=t).map(r=>({date:r.date,value:r.total})),s=m.salesDaily.filter(r=>r.date>=e&&r.date<=t).map(r=>({date:r.date,value:r.total}));return{purchase:n,sale:s}}function di(e){const t=ci(e),n=ii(t),s=n.reduce((i,a)=>i+(a.total??0),0),r=n.reduce((i,a)=>i+(a.count??0),0),o=t>0?s/t:0;return{window:e,totalWithTax:s,dailyAverage:o,documentCount:r}}function fi(e){const t=new Date,n=new Date(t),s=new Date(t);switch(s.setHours(0,0,0,0),e){case"week":s.setDate(s.getDate()-6);break;case"month":s.setDate(1);break}const r=n.getTime(),o=s.getTime(),i=new Set(["boleta","factura"]),a=m.sales.filter(l=>{if(!l.issuedAt||l.status?.toLowerCase()==="cancelled")return!1;const h=F(l.docType);if(h&&!i.has(h))return!1;const b=new Date(l.issuedAt).getTime();return Number.isNaN(b)?!1:b>=o&&b<=r}),c=a.reduce((l,h)=>l+(h.total??0),0),u=a.reduce((l,h)=>l+(h.net??0),0);return{period:e,total:c,net:u,count:a.length}}function hi(e,t=20){if(!e)return[];const n=t>0?t:20,s=new Map(m.products.map(o=>[o.id,o])),r=new Map;return Object.values(m.saleDetails).forEach(o=>{if(o.customer?.id!==e||o.status?.toLowerCase()==="cancelled")return;const i=o.issuedAt??new Date().toISOString();o.items.forEach(a=>{if(!a.productId)return;const c=s.get(a.productId),u=r.get(a.productId)??{productId:a.productId,name:c?.name??a.productName??a.productId,sku:c?.sku??"",totalPurchases:0,totalQty:0,lastPurchasedAt:i,lastUnitPrice:void 0,lastQty:void 0},l=Number(a.qty)||0;u.totalPurchases+=1,u.totalQty+=l;const h=new Date(u.lastPurchasedAt).getTime(),b=new Date(i).getTime();(!u.lastPurchasedAt||Number.isNaN(h)||b>=h)&&(u.lastPurchasedAt=i,u.lastUnitPrice=Number(a.unitPrice)||(c?.currentPrice?Number(c.currentPrice):void 0),u.lastQty=l>0?l:u.lastQty,u.name=c?.name??a.productName??u.name,u.sku=c?.sku??u.sku),r.set(a.productId,u)})}),Array.from(r.values()).sort((o,i)=>{if(i.totalPurchases!==o.totalPurchases)return i.totalPurchases-o.totalPurchases;const a=new Date(o.lastPurchasedAt).getTime();return new Date(i.lastPurchasedAt).getTime()-a}).slice(0,n).map(o=>({productId:o.productId,name:o.name,sku:o.sku,lastPurchasedAt:o.lastPurchasedAt,totalPurchases:o.totalPurchases,avgQty:o.totalPurchases>0?o.totalQty/o.totalPurchases:void 0,lastUnitPrice:o.lastUnitPrice,lastQty:o.lastQty}))}function pi(e){const t=e.size&&e.size>0?e.size:10,n=e.page??0,s=e.type,r=[...m.sales].map(a=>({id:a.id,direction:"sales",type:a.docType??"Documento",number:rs(a),issuedAt:a.issuedAt,total:a.total,status:a.status,links:vt(a.id)})).sort((a,c)=>(c.issuedAt??"").localeCompare(a.issuedAt??"")),o=[...m.purchases].map(a=>({id:a.id,direction:"purchases",type:a.docType??"Documento",number:a.docNumber??a.id,issuedAt:a.issuedAt,total:a.total,status:a.status,links:vt(a.id)})).sort((a,c)=>(c.issuedAt??"").localeCompare(a.issuedAt??""));return ue(s==="PURCHASE"?o:r,n,t)}function rs(e){return e.documentNumber&&e.documentNumber.trim()?e.documentNumber:e.docNumber&&e.docNumber.trim()?e.docNumber:e.series&&(e.folio??"")!==""?`${e.series}-${e.folio}`:e.id}function mi(e={}){const t=e.size&&e.size>0?e.size:10,n=e.page??0,s=e.sort?.toLowerCase()??"date,desc",o=[...m.sales].sort((i,a)=>{const c=i.issuedAt??"",u=a.issuedAt??"";return s==="date,asc"?c.localeCompare(u):u.localeCompare(c)}).map(i=>({id:i.id,documentNumber:rs(i),docNumber:i.docNumber,series:i.series,folio:i.folio,date:i.issuedAt,customerName:i.customerName??i.customerId??"",total:i.total,status:i.status,docType:i.docType,links:vt(i.id)}));return ue(o,n,t)}function yi(e){return Tt(e,"preview")}function gi(e,t="OFFICIAL"){const n=t==="LOCAL"?"preview":"download",s=`${e}-${t.toLowerCase()}`;return Tt(s,n)}function bi(e={}){const t=F(e.search??""),n=m.purchases.filter(s=>e.status&&e.status.trim()&&F(s.status)!==F(e.status)||e.docType&&e.docType.trim()&&F(s.docType)!==F(e.docType)||e.from&&s.issuedAt<e.from||e.to&&s.issuedAt>e.to?!1:t?[s.docNumber,s.supplierName,s.supplierId].some(r=>tt(r,t)):!0);return ue(n,e.page??0,e.size??20)}function os(e,t){const n=m.purchases.findIndex(r=>r.id===e);if(n===-1)throw new Error("Compra no encontrada");const s={...m.purchases[n],...t};return m.purchases=m.purchases.map((r,o)=>o===n?s:r),s}function vi(e){return os(e,{status:"cancelled"})}function wi(e){const t=ce("pur-demo"),n={id:t,supplierId:e.supplierId,supplierName:m.suppliers.find(s=>s.id===e.supplierId)?.name,docType:e.docType,docNumber:e.docNumber,status:"received",net:e.net,vat:e.vat,total:e.total,issuedAt:e.issuedAt};return m.purchases=[n,...m.purchases],{id:t}}function Si(e=14){return m.purchaseDaily.slice(-e)}function Pi(e){return typeof e=="number"?m.inventoryAlerts.filter(t=>Number(t.qtyAvailable)<=e):m.inventoryAlerts}function Ai(){return le(),m.inventorySummary}function Ei(){return m.inventorySettings}function Ci(e){return m.inventorySettings={lowStockThreshold:e.lowStockThreshold,updatedAt:new Date().toISOString()},le(),m.inventorySettings}function xi(e){const t=e.direction??"increase",n=t==="decrease"?-Math.abs(e.quantity):Math.abs(e.quantity),s=m.inventoryAlerts.findIndex(r=>r.productId===e.productId);if(s!==-1){const r=m.inventoryAlerts[s],o=Number(r.qtyAvailable)+n;m.inventoryAlerts[s]={...r,qtyAvailable:o,createdAt:new Date().toISOString(),expDate:e.expDate??r.expDate??null}}else t==="decrease"&&(m.inventoryAlerts=[...m.inventoryAlerts,{lotId:ce("lot-demo"),productId:e.productId,qtyAvailable:Math.max(0,e.quantity),createdAt:new Date().toISOString(),expDate:e.expDate??null}]);return le(),{productId:e.productId,appliedQuantity:e.quantity,direction:t}}function nt(e){return k.isAxiosError(e)&&!e.response}function is(){return{token:Ro,expiresIn:86400,refreshToken:Jn,refreshExpiresIn:2592e3,companyId:et,email:Gn,name:"Administrador Demo",roles:[...No],modules:[...Do]}}let He=null,Qe=Ze;const v=k.create({baseURL:Oo,timeout:1e4});v.interceptors.request.use(e=>{const t=e.headers??{};return He&&(t.Authorization=`Bearer ${He}`),Qe&&(t["X-Company-Id"]=Qe),e.headers=t,e});const wt="__UNASSIGNED__";function Ce(e){Object.prototype.hasOwnProperty.call(e,"token")&&(He=e.token??null),Object.prototype.hasOwnProperty.call(e,"companyId")&&(Qe=e.companyId??Ze),Object.prototype.hasOwnProperty.call(e,"refreshToken")&&e.refreshToken}function Oi(){He=null,Qe=Ze}async function Ti(e){try{const{data:t}=await v.post("/v1/auth/login",e);return Ce({token:t.token,companyId:t.companyId,refreshToken:t.refreshToken}),t}catch(t){if(nt(t)&&e.email===Gn&&e.password===To){const n=is();return console.warn("Login API unreachable. Using local development session."),Ce({token:n.token,companyId:n.companyId,refreshToken:n.refreshToken}),n}throw t}}async function Ri(e){if(!e.refreshToken)throw new Error("Refresh token is required");try{const{data:t}=await v.post("/v1/auth/refresh",null,{headers:{"X-Refresh-Token":e.refreshToken}});return Ce({token:t.token,companyId:t.companyId,refreshToken:t.refreshToken}),t}catch(t){if(nt(t)&&e.refreshToken===Jn){const n=is();return console.warn("Refresh API unreachable. Keeping local development session active."),Ce({token:n.token,companyId:n.companyId,refreshToken:n.refreshToken}),n}throw t}}async function Ni(e){const t={rut:e.rut,fullName:e.fullName,address:e.address,email:e.email,companyName:e.companyName,password:e.password,confirmPassword:e.confirmPassword,captcha:e.captcha},{data:n}=await v.post("/v1/requests",t);return n}function Pa(e){return S("listProducts",async()=>{const{data:t}=await v.get("/v1/products",{params:e});return t},()=>Lo(e))}function Aa(e){return S("lookupProduct",async()=>{try{const{data:t}=await v.get("/v1/products/lookup",{params:{q:e.query,type:e.type}});return t??null}catch(t){if(k.isAxiosError(t)&&t.response?.status===404)return null;throw t}},()=>qo(e.query,e.type))}function Ea(e){const t=es(e);return S("createProduct",async()=>{const n=ts(t,e.imageFile??null),{data:s}=await v.post("/v1/products",n,{headers:{"Content-Type":"multipart/form-data"}});return s},()=>Mo(t))}function Ca(e,t){const n=es(t);return S("updateProduct",async()=>{const s=ts(n,t.imageFile??null),{data:r}=await v.put(`/v1/products/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}});return r},()=>_o(e,n))}function xa(e,t){return S("updateProductStatus",async()=>{const{data:n}=await v.patch(`/v1/products/${e}/status`,{active:t});return n},()=>Uo(e,t))}function Oa(e){return S("fetchProductStock",async()=>{const{data:t}=await v.get(`/v1/products/${e}/stock`);return t},()=>$o(e))}function Ta(e,t){return S("updateProductInventoryAlert",async()=>{const{data:n}=await v.patch(`/v1/products/${e}/inventory-alert`,{criticalStock:t});return n},()=>zo(e,t))}function Ra(e,t){return S("fetchProductQrBlob",async()=>{const{data:n}=await v.get(`/v1/products/${e}/qr`,{responseType:"blob",params:t?.download?{download:!0}:void 0});return n},()=>Ko(e))}function Na(e){return Rt("deleteProduct",()=>v.delete(`/v1/products/${e}`),()=>Bo(e))}function Da(){return S("listSuppliers",async()=>{const{data:e}=await v.get("/v1/suppliers");return e},()=>Vo())}function ka(e){return S("createSupplier",async()=>{const{data:t}=await v.post("/v1/suppliers",e);return t},()=>Go(e))}function Ia(e,t){return S("updateSupplier",async()=>{const{data:n}=await v.put(`/v1/suppliers/${e}`,t);return n},()=>Jo(e,t))}function Fa(e){return Rt("deleteSupplier",()=>v.delete(`/v1/suppliers/${e}`),()=>Wo(e))}function ja(e={}){return S("listCustomers",async()=>{const t=e.page??0,n=e.size??20,s={page:t,size:n,sort:e.sort??"createdAt,desc"};e.q&&e.q.trim()&&(s.q=e.q.trim()),e.segment&&e.segment.trim()&&(s.segment=e.segment.trim());const{data:r}=await v.get("/v1/customers",{params:s}),o=r,i=o.content??o.items??[],a=o.size??n,c=typeof o.totalElements=="number"?o.totalElements:typeof o.total=="number"?o.total:i.length,u=typeof o.number=="number"?o.number:typeof o.page=="number"?o.page:t,l=typeof o.totalPages=="number"?o.totalPages:a>0?Math.ceil(c/a):0,h=typeof o.hasNext=="boolean"?o.hasNext:l>0?u+1<l:i.length===a;return{...o,content:i,size:a,totalElements:c,totalPages:l,number:u,hasNext:h}},()=>Yo(e))}function La(){return S("listCustomerSegments",async()=>{const{data:e}=await v.get("/v1/customer-segments/stats");return e},()=>ti())}function qa(e){return S("createCustomer",async()=>{const{data:t}=await v.post("/v1/customers",e);return t},()=>Xo(e))}function Ma(e,t){return S("updateCustomer",async()=>{const{data:n}=await v.put(`/v1/customers/${e}`,t);return n},()=>Zo(e,t))}function _a(e){return Rt("deleteCustomer",()=>v.delete(`/v1/customers/${e}`),()=>ei(e))}async function Ua(e){const{data:t}=await v.get(`/v1/customers/${e}/stats`);return t}async function Ba(e,t=0,n=10){const{data:s}=await v.get(`/v1/customers/${e}/sales`,{params:{page:t,size:n}});return s}function $a(e,t){return S("listProductPrices",async()=>{const{data:n}=await v.get(`/v1/products/${e}/prices`,{params:t});return n},()=>Ho(e,t))}function za(e,t){return S("createProductPrice",async()=>{const{data:n}=await v.post(`/v1/products/${e}/prices`,t);return n},()=>Qo(e,t))}function Ka(e={}){return S("listSales",async()=>{const{data:t}=await v.get("/v1/sales",{params:e});return t},()=>ni(e))}function Ha(e,t){return S("updateSale",async()=>{const{data:n}=await v.put(`/v1/sales/${e}`,t);return n},()=>ss(e,t))}function Qa(e){return S("cancelSale",async()=>{const{data:t}=await v.post(`/v1/sales/${e}/cancel`,{});return t},()=>oi(e))}function Va(e){return S("getSaleDetail",async()=>{const{data:t}=await v.get(`/v1/sales/${e}`);return t},()=>si(e))}function Ga(e){return S("getDashboardSalesMetrics",async()=>{const{data:t}=await v.get("/v1/sales/metrics",{params:e});return t},()=>ui(e))}function Ja(e){return S("getPurchaseSaleTrend",async()=>{const{data:t}=await v.get("/v1/trend",{params:e});return t},()=>li(e))}function Wa(e="14d"){const t=e&&e.trim().length>0?e:"14d";return S("getSalesWindowMetrics",async()=>{const{data:n}=await v.get("/v1/sales/metrics",{params:{window:t}});return n},()=>di(t))}function Ya(e){return S("getSalesSummaryByPeriod",async()=>{const{data:t}=await v.get("/v1/sales/metrics/summary",{params:{period:e}});return t},()=>fi(e))}function Xa(e){return e?S("getFrequentProducts",async()=>{const{data:t}=await v.get(`/v1/customers/${e}/frequent-products`,{params:{limit:20}});return t},()=>hi(e,20)):Promise.resolve([])}function Za(e={}){const{page:t=0,size:n=10,sort:s="date,DESC"}=e;return S("listSaleDocuments",async()=>{const{data:r}=await v.get("/v1/documents",{params:{type:"SALE",page:t,size:n,sort:s}});return r},()=>mi({page:t,size:n,sort:s}))}function ec(e){const{type:t,page:n,size:s}=e;return S(`listDocuments-${t}`,async()=>{const{data:r}=await v.get("/v1/documents",{params:{type:t,page:n,size:s}});return r},()=>pi(e))}function tc(e){return S("getDocumentPreview",async()=>{const t=await v.get(`/v1/documents/${e}`,{responseType:"blob"});return Xn(t,`${e}.pdf`)},()=>yi(e))}function Di(e,t={}){const{fallbackName:n="document.pdf",offlineId:s,version:r="OFFICIAL"}=t;return S("downloadDocument",async()=>{const o=await v.get(e,{responseType:"blob"});return Xn(o,n)},()=>{const i=Fo(e)??(s?{id:s,version:r}:null);return i?gi(i.id,i.version):Tt(n.replace(/\.pdf$/i,""),"download")})}function nc(e,t="OFFICIAL"){const n=`/v1/billing/documents/${e}/files/${t}`,s=`${e}-${t.toLowerCase()}.pdf`;return Di(n,{fallbackName:s,offlineId:e,version:t})}function sc(e,t){return S("listSalesDailyByDateRange",async()=>{const{data:n}=await v.get("/v1/sales/metrics/daily-range",{params:{from:e,to:t}});return n},()=>ai(e,t))}function rc(e){return S("createSale",async()=>{const{data:t}=await v.post("/v1/sales",e);return t},()=>ri(e))}function oc(e={}){return S("listPurchases",async()=>{const{data:t}=await v.get("/v1/purchases",{params:e});return t},()=>bi(e))}function ic(e,t){return S("updatePurchase",async()=>{const{data:n}=await v.put(`/v1/purchases/${e}`,t);return n},()=>os(e,t))}function ac(e){return S("cancelPurchase",async()=>{const{data:t}=await v.post(`/v1/purchases/${e}/cancel`,{});return t},()=>vi(e))}function cc(e=14){return S("listPurchaseDaily",async()=>{const{data:t}=await v.get("/v1/purchases/metrics/daily",{params:{days:e}});return t},()=>Si(e))}function uc(e){return S("createPurchase",async()=>{const{data:t}=await v.post("/v1/purchases",e);return t},()=>wi(e))}async function lc(e){return S("listLocations",async()=>{const t={},{data:n}=await v.get("/api/locations",{params:t});return n},()=>[])}async function dc(e){return S("createLocation",async()=>{const{data:t}=await v.post("/api/locations",e);return t},()=>({id:crypto.randomUUID(),companyId:et,code:e.code,name:e.name,description:e.description,type:e.type,parentLocationId:e.parentLocationId,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}async function fc(e){return S("deleteLocation",async()=>{await v.delete(`/api/locations/${e}`)},()=>{})}async function hc(){return S("getLocationStockSummary",async()=>{const{data:e}=await v.get("/api/locations/stock-summary");return e},()=>[])}async function pc(e){return S("listServices",async()=>{const t=e!==void 0?{active:e}:{},{data:n}=await v.get("/api/services",{params:t});return n},()=>[])}async function mc(e){return S("createService",async()=>{const{data:t}=await v.post("/api/services",e);return t},()=>({id:crypto.randomUUID(),companyId:et,...e,active:e.active??!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}async function yc(e,t){return S("updateService",async()=>{const{data:n}=await v.put(`/api/services/${e}`,t);return n},()=>({id:e,companyId:et,...t,active:t.active??!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}async function gc(e){return S("deleteService",async()=>{await v.delete(`/api/services/${e}`)},()=>{})}function bc(e){return S("listInventoryAlerts",async()=>{const t=typeof e=="number"?{threshold:e}:{},{data:n}=await v.get("/v1/inventory/alerts",{params:t});return n},()=>Pi(e))}function vc(){return S("getInventorySummary",async()=>{const{data:e}=await v.get("/v1/inventory/summary");return e},()=>Ai())}function wc(){return S("getInventorySettings",async()=>{const{data:e}=await v.get("/v1/inventory/settings");return e},()=>Ei())}function Sc(e){return S("updateInventorySettings",async()=>{const{data:t}=await v.put("/v1/inventory/settings",e);return t},()=>Ci(e))}function Pc(e){return S("createInventoryAdjustment",async()=>{const{data:t}=await v.post("/v1/inventory/adjustments",e);return t},()=>xi(e))}const St="pymes.auth.session",as=w.createContext(void 0);function ki(){try{const e=localStorage.getItem(St);if(!e)return null;const t=JSON.parse(e),n={...t,modules:Array.isArray(t.modules)?t.modules:[]};if(!n?.token||!n?.expiresAt||!n?.refreshToken||!n?.refreshExpiresAt)return null;const s=Date.now();return n.expiresAt<=s||n.refreshExpiresAt<=s?null:n}catch{return null}}function un(e){if(!e){localStorage.removeItem(St);return}localStorage.setItem(St,JSON.stringify(e))}function Ii({children:e}){const[t,n]=w.useState(()=>ki());w.useEffect(()=>{t?(Ce({token:t.token,companyId:t.companyId,refreshToken:t.refreshToken}),un(t)):(Oi(),un(null))},[t]);const s=w.useCallback(async a=>{const c=await Ti(a),u=Date.now(),l={...c,modules:Array.isArray(c.modules)?c.modules:[],expiresAt:u+c.expiresIn*1e3,refreshExpiresAt:u+c.refreshExpiresIn*1e3};n(l)},[]),r=w.useCallback(()=>{n(null)},[]),o=w.useCallback(async()=>{if(!t)return;const a={refreshToken:t.refreshToken},c=await Ri(a),u=Date.now(),l={...c,modules:Array.isArray(c.modules)?c.modules:[],expiresAt:u+c.expiresIn*1e3,refreshExpiresAt:u+c.refreshExpiresIn*1e3};n(l)},[t]);w.useEffect(()=>{if(!t)return;const a=Date.now();if(t.refreshExpiresAt<=a){n(null);return}const c=Math.max(t.expiresAt-a-6e4,5e3),u=window.setTimeout(()=>{o().catch(()=>n(null))},c);return()=>window.clearTimeout(u)},[t,o]);const i=w.useMemo(()=>({session:t,isAuthenticated:!!t,login:s,logout:r}),[t,s,r]);return f.jsx(as.Provider,{value:i,children:e})}function Nt(){const e=w.useContext(as);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Ae="/assets/logo-BW3rfr0A.png",Pt=[{to:"/app",label:"Panel",icon:"DB",module:"dashboard"},{to:"/app/sales",label:"Ventas",icon:"VE",module:"sales"},{to:"/app/purchases",label:"Compras",icon:"CO",module:"purchases"},{to:"/app/inventory",label:"Inventario",icon:"IN",module:"inventory"},{to:"/app/customers",label:"Clientes",icon:"CL",module:"customers"},{to:"/app/suppliers",label:"Proveedores",icon:"PR",module:"suppliers"},{to:"/app/finances",label:"Finanzas",icon:"FI",module:"finances"},{to:"/app/reports",label:"Reportes",icon:"RP",module:"reports"},{to:"/app/settings",label:"Configuracion",icon:"CF",module:"settings"}];function Fi(){const{session:e,logout:t}=Nt(),[n,s]=w.useState(!1),r=fn(),o=w.useMemo(()=>r.pathname.length>1&&r.pathname.endsWith("/")?r.pathname.replace(/\/+$/,""):r.pathname,[r.pathname]),i=w.useMemo(()=>{const c=new Set(e?.modules??[]);return c.add("dashboard"),c},[e?.modules]),a=w.useMemo(()=>!i||i.size===0?Pt:Pt.filter(c=>i.has(c.module)),[i]);return f.jsxs("div",{className:"layout",children:[f.jsxs("aside",{className:`sidebar ${n?"open":""}`,children:[f.jsxs("div",{className:"sidebar-header",children:[f.jsx("img",{src:Ae,alt:"Logo empresa",className:"brand-logo brand-logo--sidebar"}),f.jsx("button",{className:"icon-btn mobile-only",onClick:()=>s(!1),"aria-label":"Cerrar menu",children:"Close"})]}),f.jsx("nav",{children:a.map(c=>{const u=c.to==="/app",l=o===c.to||!u&&o.startsWith(c.to);return f.jsxs(fs,{to:c.to,className:`nav-item ${l?"active":""}`,onClick:()=>s(!1),end:u,children:[f.jsx("span",{className:"nav-icon","aria-hidden":!0,children:c.icon}),f.jsx("span",{children:c.label})]},c.to)})})]}),f.jsxs("div",{className:"content",children:[f.jsxs("header",{className:"topbar",children:[f.jsxs("div",{className:"topbar-left",children:[f.jsx("button",{className:"icon-btn desktop-hidden",onClick:()=>s(!0),"aria-label":"Abrir menu",children:"Menu"}),f.jsxs("div",{className:"topbar-brand",children:[f.jsx("img",{src:Ae,alt:"Logo empresa",className:"brand-logo brand-logo--topbar"}),f.jsx("p",{className:"muted small",children:"Control integral de operaciones y finanzas"})]})]}),f.jsxs("div",{className:"topbar-right",children:[f.jsx("span",{className:"muted small hide-mobile",children:e?.email}),f.jsx("button",{className:"btn ghost",onClick:t,children:"Salir"})]})]}),f.jsx("main",{className:"page",children:f.jsx(hn,{})})]})]})}function ji(e){const t=e.replace(/\./g,"").replace(/-/g,"").trim().toUpperCase();if(t.length<=1)return t;const n=t.slice(0,-1),s=t.slice(-1);return`${n}-${s}`}function Li(e){if(!e)return!1;const t=e.replace(/\./g,"").replace(/-/g,"").trim().toUpperCase();if(!/^\d{7,8}[0-9K]$/.test(t))return!1;const n=t.slice(0,-1),s=t.slice(-1);return qi(n)===s}function qi(e){let t=0,n=2;for(let r=e.length-1;r>=0;r-=1)t+=parseInt(e[r],10)*n,n=n===7?2:n+1;const s=11-t%11;return s===11?"0":s===10?"K":String(s)}const ln="Muchas gracias! Te contactaremos lo antes posible. PYMERP.cl",fe="true".toLowerCase()!=="false",ct={rut:"",fullName:"",address:"",email:"",companyName:"",password:"",confirmPassword:""};function he(){const e=Math.floor(Math.random()*7)+3,t=Math.floor(Math.random()*6)+2;return{a:e,b:t}}function Mi({children:e,forceLoginOnMount:t=!1,onLoginClose:n}){const{login:s,isAuthenticated:r}=Nt(),o=pn(),[i,a]=w.useState(!0),[c,u]=w.useState("none"),[l,h]=w.useState({email:"",password:""}),[b,A]=w.useState(null),[p,g]=w.useState(0),[y,x]=w.useState(0),[C,O]=w.useState(ct),[I,D]=w.useState(null),[$,M]=w.useState(ln),[q,Q]=w.useState(()=>he()),[ge,V]=w.useState(""),ne=w.useRef(null),X=w.useRef(null),G=w.useRef(null),be=w.useRef("none"),B=w.useRef(!1),se=Ut({mutationFn:P=>s(P),onSuccess:()=>{A(null),g(0),x(0),u("none"),o("/app")},onError:P=>{if(k.isAxiosError(P))if(!P.response)A("No se pudo conectar con el servidor. Intenta nuevamente.");else{const T=P.response.data?.detail??P.response.data?.message??"Credenciales invlidas";A(T)}else A(P.message);g(T=>{const ee=T+1;if(ee>=3){const we=Math.min(30,(ee-2)*5);x(Fe=>Math.max(Fe,we))}return ee})}}),z=Ut({mutationFn:Ni,onSuccess:P=>{D(null),M(P?.message??ln),u("success"),O(ct),Q(he()),V("")},onError:P=>{if(Q(he()),V(""),k.isAxiosError(P)){const T=P.response?.data,ee=T?.detail??T?.message??T?.error;D(ee??"No se pudo enviar la solicitud. Intenta nuevamente ms tarde.")}else D(P.message)}});w.useEffect(()=>{r?(h({email:"",password:""}),A(null)):(a(!0),u("none"))},[r]),w.useEffect(()=>{if(!t){B.current=!1;return}a(!0),u("login"),B.current=!0},[t]),w.useEffect(()=>{c==="login"&&(ne.current??X.current)?.focus(),c==="request"&&G.current?.focus()},[c]),w.useEffect(()=>{if(c==="none")return;const P=T=>{T.key==="Escape"&&(T.preventDefault(),c==="request"?u("login"):c==="login"?u("none"):c==="success"&&(u(r?"none":"login"),r&&a(!1)))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[c,r]),w.useEffect(()=>{fe||V(String(q.a+q.b))},[q]),w.useEffect(()=>{if(y<=0)return;const P=window.setInterval(()=>{x(T=>T<=1?0:T-1)},1e3);return()=>window.clearInterval(P)},[y]);const De=w.useMemo(()=>r?"Haz clic aqu para acceder y entrar.":"Haz clic para iniciar sesin",[r]),ke=()=>{c==="none"&&(r?(a(!1),o("/app")):o("/login"))},J=P=>{c==="none"?(P.preventDefault(),ke()):P.stopPropagation()},Z=async P=>{P.preventDefault(),!(se.isPending||y>0)&&(A(null),await se.mutateAsync({email:l.email.trim(),password:l.password}))},ve=P=>{P.preventDefault(),D(null);const T=ji(C.rut);if(!Li(T)){D("El RUT ingresado no es vlido"),Q(he()),V("");return}if(C.password!==C.confirmPassword){D("Las contraseas no coinciden");return}const ee=q.a+q.b,we=ge.trim();if(fe){const Fe=Number.parseInt(we,10);if(!we||Number.isNaN(Fe)||Fe!==ee){D("Debes resolver el captcha correctamente"),Q(he()),V("");return}}z.mutate({rut:T,fullName:C.fullName.trim(),address:C.address.trim(),email:C.email.trim().toLowerCase(),companyName:C.companyName.trim(),password:C.password,confirmPassword:C.confirmPassword,captcha:{a:q.a,b:q.b,answer:fe?we:String(ee)}})},de=()=>{D(null),O(ct),Q(he()),V(""),u("request")},Ie=()=>{u("login")},cs=()=>{u(r?"none":"login"),r&&a(!1)};return w.useEffect(()=>{!r&&be.current==="login"&&c==="none"&&n?.(),be.current=c},[c,n,r]),f.jsxs(f.Fragment,{children:[e,i&&f.jsxs("div",{className:"landing-overlay",onClick:ke,role:"presentation",children:[f.jsx("div",{className:"landing-overlay__gradient"}),f.jsxs("div",{className:`landing-overlay__panel ${c==="none"?"landing-overlay__panel--compact":""}`,onClick:J,children:[c==="none"&&f.jsxs("div",{className:"landing-welcome","aria-live":"polite",children:[f.jsx("img",{src:Ae,alt:"PYMERP",className:"landing-logo"}),f.jsx("p",{className:"landing-hint",children:De})]}),c==="login"&&f.jsxs("div",{className:"landing-card",role:"dialog","aria-modal":"true","aria-labelledby":"landing-login-title",children:[f.jsx("img",{src:Ae,alt:"PYMERP",className:"landing-logo landing-logo--small"}),f.jsx("h1",{id:"landing-login-title",children:"Iniciar sesin"}),f.jsx("p",{className:"landing-subtitle",children:"Bienvenid@! Ingresa tus credenciales para acceder."}),f.jsxs("form",{className:"landing-form",onSubmit:Z,children:[f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Email"}),f.jsx("input",{ref:ne,type:"email",autoComplete:"email",required:!0,value:l.email,onChange:P=>h(T=>({...T,email:P.target.value}))})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Contrasea"}),f.jsx("input",{ref:X,type:"password",autoComplete:"current-password",required:!0,value:l.password,onChange:P=>h(T=>({...T,password:P.target.value}))})]}),b&&f.jsx("p",{className:"landing-error",role:"alert","aria-live":"assertive",children:b}),f.jsx("button",{className:"landing-button",type:"submit",disabled:se.isPending||y>0,children:se.isPending?"Ingresando...":y>0?`Reintentar en ${y}s`:"Entrar"}),y>0&&f.jsxs("p",{className:"landing-hint",role:"status","aria-live":"polite",children:["Demasiados intentos fallidos. Espera ",y,"s antes de reintentar."]})]}),f.jsx("button",{type:"button",className:"landing-link",onClick:de,children:"No tienes cuenta o tienes problemas para acceder? Haz clic aqu"})]}),c==="request"&&f.jsxs("div",{className:"landing-card",role:"dialog","aria-modal":"true","aria-labelledby":"landing-request-title",children:[f.jsxs("div",{className:"landing-card__header",children:[f.jsx("h1",{id:"landing-request-title",children:"Solicitud de registro o recuperacin de cuenta"}),f.jsx("button",{type:"button",className:"landing-close","aria-label":"Cerrar",onClick:Ie,children:""})]}),f.jsx("p",{className:"landing-subtitle",children:"Completa los datos para registro/recuperacin."}),f.jsxs("form",{className:"landing-form",onSubmit:ve,children:[f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"RUT"}),f.jsx("input",{ref:G,value:C.rut,onChange:P=>O(T=>({...T,rut:P.target.value})),required:!0})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Nombre completo"}),f.jsx("input",{value:C.fullName,onChange:P=>O(T=>({...T,fullName:P.target.value})),required:!0})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Direccin"}),f.jsx("input",{value:C.address,onChange:P=>O(T=>({...T,address:P.target.value})),required:!0})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Email"}),f.jsx("input",{type:"email",value:C.email,onChange:P=>O(T=>({...T,email:P.target.value})),required:!0})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Nombre de la empresa"}),f.jsx("input",{value:C.companyName,onChange:P=>O(T=>({...T,companyName:P.target.value})),required:!0})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Contrasea"}),f.jsx("input",{type:"password",value:C.password,onChange:P=>O(T=>({...T,password:P.target.value})),required:!0,minLength:8})]}),f.jsxs("label",{className:"landing-label",children:[f.jsx("span",{children:"Repetir contrasea"}),f.jsx("input",{type:"password",value:C.confirmPassword,onChange:P=>O(T=>({...T,confirmPassword:P.target.value})),required:!0,minLength:8})]}),f.jsxs("label",{className:"landing-label landing-captcha",children:[f.jsxs("span",{className:"landing-captcha__label",children:["Captcha: Cunto es ",q.a," + ",q.b,"?"]}),f.jsx("input",{inputMode:"numeric",pattern:"\\\\d*",value:ge,onChange:P=>V(P.target.value.replace(/[^0-9]/g,"")),required:fe,"aria-required":fe,"aria-label":`Captcha: Cunto es ${q.a} + ${q.b}?`})]}),!fe&&f.jsx("p",{className:"landing-captcha__label",role:"status",children:"Captcha deshabilitado en este entorno (respuesta enviada automticamente)."}),I&&f.jsx("p",{className:"landing-error",role:"alert","aria-live":"assertive",children:I}),f.jsx("button",{className:"landing-button",type:"submit",disabled:z.isPending,children:z.isPending?"Enviando...":"Enviar solicitud"})]})]}),c==="success"&&f.jsxs("div",{className:"landing-card",role:"dialog","aria-modal":"true","aria-labelledby":"landing-success-title",children:[f.jsx("img",{src:Ae,alt:"PYMERP",className:"landing-logo landing-logo--small"}),f.jsx("h1",{id:"landing-success-title",children:"Solicitud enviada"}),f.jsx("p",{className:"landing-subtitle",children:$}),f.jsx("button",{className:"landing-button",type:"button",onClick:cs,children:r?"Ir al panel":"Volver al inicio de sesin"})]})]})]})]})}function dn(){return f.jsx("div",{className:"landing-placeholder","aria-hidden":!0})}const _i=w.lazy(()=>Y(()=>import("./DashboardPage-DTk8bhVE.js"),__vite__mapDeps([0,1,2,3,4]))),Ui=w.lazy(()=>Y(()=>import("./SalesPage-B_WQp_J0.js"),__vite__mapDeps([5,1,2,3,6,7,8,9,10,4]))),Bi=w.lazy(()=>Y(()=>import("./PurchasesPage-CAt4eVrP.js"),__vite__mapDeps([11,1,2,3,6,10,8,4]))),$i=w.lazy(()=>Y(()=>import("./InventoryPage-DafS9WXF.js"),__vite__mapDeps([12,1,2,3,6]))),zi=w.lazy(()=>Y(()=>import("./CustomersPage-BK4hp0PX.js"),__vite__mapDeps([13,1,2,3,7,6]))),Ki=w.lazy(()=>Y(()=>import("./SuppliersPage-Bhm7VUd8.js"),__vite__mapDeps([14,1,3,2,9,6]))),Hi=w.lazy(()=>Y(()=>import("./FinancesPage-AmNFxRs0.js"),__vite__mapDeps([15,3,1]))),Qi=w.lazy(()=>Y(()=>import("./ReportsPage-CxtcYEjp.js"),__vite__mapDeps([16,3,1]))),Vi=w.lazy(()=>Y(()=>import("./SettingsPage-BnyvsiII.js"),__vite__mapDeps([17,3,1]))),Gi=[{index:!0,module:"dashboard",element:f.jsx(_i,{})},{path:"sales",module:"sales",element:f.jsx(Ui,{})},{path:"purchases",module:"purchases",element:f.jsx(Bi,{})},{path:"inventory",module:"inventory",element:f.jsx($i,{})},{path:"customers",module:"customers",element:f.jsx(zi,{})},{path:"suppliers",module:"suppliers",element:f.jsx(Ki,{})},{path:"finances",module:"finances",element:f.jsx(Hi,{})},{path:"reports",module:"reports",element:f.jsx(Qi,{})},{path:"settings",module:"settings",element:f.jsx(Vi,{})}];function Ji(){const{isAuthenticated:e,session:t}=Nt(),n=t?.modules??[],s=w.useMemo(()=>{const o=new Set(n);return o.add("dashboard"),o},[n]),r=w.useMemo(()=>{const o=Pt.find(i=>s.has(i.module));return o?o.to:"/app"},[s]);return f.jsx(w.Suspense,{fallback:f.jsx("div",{className:"page",children:f.jsx("p",{children:"Cargando..."})}),children:f.jsxs(hs,{children:[f.jsxs(te,{element:f.jsx(Yi,{}),children:[f.jsx(te,{index:!0,element:f.jsx(dn,{})}),f.jsx(te,{path:"login",element:f.jsx(dn,{})}),f.jsxs(te,{path:"app",element:e?f.jsx(Fi,{}):f.jsx(je,{to:"/",replace:!0}),children:[Gi.map(o=>{const i=s.has(o.module)?o.element:f.jsx(je,{to:r,replace:!0});return o.index?f.jsx(te,{index:!0,element:i},"index"):f.jsx(te,{path:o.path,element:i},o.path)}),f.jsx(te,{path:"*",element:f.jsx(je,{to:r,replace:!0})})]})]}),f.jsx(te,{path:"*",element:f.jsx(je,{to:e?r:"/",replace:!0})})]})})}function Wi(){return f.jsx(Ji,{})}function Yi(){const e=fn(),t=pn(),n=e.pathname==="/login",s=()=>t("/",{replace:!0});return f.jsx(Mi,{forceLoginOnMount:n,onLoginClose:n?s:void 0,children:f.jsx(hn,{})})}const Xi=new Vs;ws.createRoot(document.getElementById("root")).render(f.jsx(ps.StrictMode,{children:f.jsx(Js,{client:Xi,children:f.jsx(ms,{children:f.jsx(Ii,{children:f.jsx(Wi,{})})})})}));export{vc as $,uc as A,pc as B,Da as C,ec as D,ac as E,ic as F,oc as G,cc as H,Ca as I,Ea as J,k as K,Ra as L,za as M,Na as N,xa as O,Ta as P,$a as Q,Oa as R,dc as S,fc as T,hc as U,mc as V,yc as W,gc as X,Pc as Y,Sc as Z,wc as _,Ja as a,bc as a0,_a as a1,Ua as a2,Ba as a3,Ma as a4,wt as a5,La as a6,_t as a7,na as a8,ta as a9,Ia as aa,Fa as ab,xe as ac,Ls as ad,Os as ae,Rs as af,lt as ag,K as ah,Ve as ai,Cs as aj,xs as ak,ut as al,gn as am,$s as an,Ds as ao,j as ap,Fs as aq,Xa as b,Ut as c,qa as d,Aa as e,rc as f,Ga as g,Pa as h,Li as i,f as j,lc as k,ja as l,Wa as m,ji as n,sc as o,ea as p,Za as q,Qa as r,tc as s,nc as t,Gs as u,Ha as v,Ka as w,Ya as x,Va as y,ka as z};
